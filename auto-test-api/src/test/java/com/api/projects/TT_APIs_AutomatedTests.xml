<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="6c6fb9a9-5dc3-4a2a-83e3-c252e3b49272" activeEnvironment="Default" name="TT_APIs_AutomatedTests" resourceRoot="" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="d7c48414-9b1d-49d0-b44b-a92a9a748dbb" wadlVersion="http://wadl.dev.java.net/2009/02" name="SIGNIN" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}}</con:endpoint></con:endpoints><con:resource name="sign_in" path="/users/sign_in" id="948afba5-5ffc-4440-a549-d192ff653635"><con:settings/><con:parameters/><con:method name="Method 1" id="c7528823-614f-4e0c-9b32-84a978bf12a5" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="d64103bc-b669-42bf-befd-5fb67bf06081" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="testing1112015a@rediffmail.compost"/>
  <con:entry key="TT-Mobile" value=""/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"testing1112015a@rediffmail.com","password":"testing00000007"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="785a03be-d2dd-492d-a04c-a33bfce513ea" wadlVersion="http://wadl.dev.java.net/2009/02" name="SignUp" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://traveler-api.ttdev.in</con:endpoint></con:endpoints><con:resource name="users" path="/users" id="3c132e51-a6c6-4439-87b8-550da6cee86a"><con:settings/><con:parameters/><con:method name="Method 1" id="7a72f1a0-f7dc-4a7d-a67d-c07e3b897b95" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="f63e32ed-4d44-43ee-b3c2-2d7a729aa444" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="dtX7ByxTivHa5ic+z5QGBDhCzxkF7qdH5Iy4rY11Snw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request>{"commit":"Sign Up \u0026 Continue","user":{"confirmPassword":"password123","email":"test_32656735@mailinator.com","name":"testautomation","password":"password123","role_ids":["5"],"tnc":"1"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="9b994bf9-352d-4c43-abd8-1780b756b01d" wadlVersion="http://wadl.dev.java.net/2009/02" name="SignOut" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="sign_out" path="/users/sign_out" id="4f91a7cb-c33f-42b8-9c2a-92ee2f8117c4"><con:settings/><con:parameters><con:parameter><con:name>logout_type</con:name><con:value>json</con:value><con:style>QUERY</con:style><con:default>json</con:default></con:parameter></con:parameters><con:method name="Method 1" id="86be9abc-0a49-4d04-b30f-b00ca28c1c6c" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="a74304c6-ae88-4acd-8fe5-4419af193deb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWE2NjY2OGJhODc0Y2YwMmQ5ZjNjZjUxYTU3Y2EyMjc2BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAz7kB0kiIiQyYSQxMCRZdGhNd1VIQnpDeWVYdmRnUW1TT0QuBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--4ef404b52b58e580063137de4f128a071d56e057;"/>
  &lt;con:entry key="TT-Mobile" value="Hd2LCpeRC2gH2bde0HL1UBP/51qZ9DhwCaANP3ihSAw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/users/sign_out</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="9c75fd30-4a8f-4e1f-8ecb-c53da9d0121a" wadlVersion="http://wadl.dev.java.net/2009/02" name="ForgotPassword" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="password" path="/users/password" id="4808ea05-9d86-4620-b0cf-a0dd1a310190"><con:settings/><con:parameters/><con:method name="Method 1" id="99e90e87-a26e-4a0d-9dba-ee095d37bfd9" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="11e717d5-eb1d-4bb8-b4c0-0cde719f798d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request>{"user":{"email":"test_32656735@mailinator.com"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/password</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="559eb5ca-8fb6-4cba-a3ba-ee0bba10d604" wadlVersion="http://wadl.dev.java.net/2009/02" name="ChangePassword" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/><con:resource name="reset_password" path="/api/v1/reset_password" id="05d6dd5f-575b-498b-994f-ad8a9016f409"><con:settings/><con:parameters/><con:method name="Method 1" id="ba859289-e309-48c7-9ef6-7c21667e10bb" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="5a2ab76d-7f7c-4724-8d5f-d6cda52e0e15" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTQwMDVjNTcwZTcyZjA1MWY0MmE4NDU0NTEzYWMzMGNmBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5rFCUkiIiQyYSQxMCRoMWpMdDhNYXdMenUxNm5ZcDN4OGJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--229fb7496dbe86273bd20c04c98ce076d50d2584;"/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request>{
  "reset_password_token": "mResetPasswordToken",
   "password": "newPw"
   "password_confirmation": "newPw"
}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v1/reset_password</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="4762a498-02ae-4e71-a0a6-78c62353a01f" wadlVersion="http://wadl.dev.java.net/2009/02" name="AppConfig" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="app_config.json" path="/api/{api_version}/app_config.json" id="4a0c8756-59f5-4d07-aefc-a09e1ccbc326"><con:settings/><con:parameters><con:parameter><con:name>user_id</con:name><con:value>{user_id}</con:value><con:style>QUERY</con:style><con:default>{user_id}</con:default></con:parameter><con:parameter><con:name>api_version</con:name><con:value>v2</con:value><con:style>TEMPLATE</con:style><con:default>v2</con:default></con:parameter></con:parameters><con:method name="Method 1" id="a270db1d-22d9-4d3e-93f0-bdea916cea7e" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="8102f3b4-c7de-4700-a705-9a8e6737f51b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="czLSc3s1OigRlHhB2q8TS7ZinzIXG8BBQBFNAyS30ZU="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/app_config.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="user_id" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>api_version</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2ddafee6-adec-4522-8a48-8abb54bb0ba4" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetAllHOTDestinations" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#travel_apiendpoint}</con:endpoint></con:endpoints><con:resource name="hot_destination_list.json" path="/api/{api_version}/destinations/hot_destination_list.json" id="778862c1-53c9-40ad-b2ac-a258136ad92c"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter></con:parameters><con:method name="Method 1" id="db510ecc-e6ae-4ed7-82ae-b0757cb1e420" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="395d5b54-e258-457a-bd30-b9a40fa6c672" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b;"/>
  <con:entry key="User-Agent" value="TravelTriangle"/>
  <con:entry key="TT-Mobile" value="Reci/Qwu4ytkb+Ee8viokSHUf9r8MImpH1KNgQUorFI="/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v1/destinations/hot_destination_list.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="1ad02eef-468d-4ffc-92db-8000f0b0217f" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetFilteredResultsForDestination" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/v4/get_filtered_results" id="0400d84c-aa26-44bf-b6bc-d3801e48742b"><con:settings/><con:parameters><con:parameter><con:name>result_type</con:name><con:value>package_catalog</con:value><con:style>QUERY</con:style><con:default>package_catalog</con:default></con:parameter><con:parameter><con:name>destination</con:name><con:value>67</con:value><con:style>QUERY</con:style><con:default>67</con:default></con:parameter></con:parameters><con:method name="Method 1" id="cfb53988-743a-40d1-8002-18503da24ecf" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="a50b2aaf-57c9-4b82-8e15-0a5d72b68704" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="Q1lnUkTi8pIaANDRPmFQ9SxdzAbq+A3PHmKOJV2afCc="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="85026205-7ba3-423d-b4c7-9a9f92386d54" wadlVersion="http://wadl.dev.java.net/2009/02" name="AttaractionListsByDestination" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="destination_attraction_list.json" path="/api/v2/destinations/{destination_id}/destination_attraction_list.json" id="ad76eab2-46b2-4a14-bd74-c24ea94bc042"><con:settings/><con:parameters><con:parameter><con:name>destination_id</con:name><con:value>67</con:value><con:style>TEMPLATE</con:style><con:default>67</con:default></con:parameter></con:parameters><con:method name="Method 1" id="8f6a536f-f7b9-4d35-ab34-40e744a7f43a" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="f3033d25-2f50-4916-98d3-7bce87e60748" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="80nlvhP+/mwJWxqxukANMGgM988i0RUOYikEdnmhHVw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/destinations/67/destination_attraction_list.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>destination_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="7470025b-c38b-4fb3-988d-0456f227d81e" wadlVersion="http://wadl.dev.java.net/2009/02" name="DestinationHotelImages" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="destination_hotel_images.json" path="/api/v2/destinations/{destinationId}/destination_hotel_images.json" id="70df887e-395e-4ba2-8b2b-8c4d091b2ec3"><con:settings/><con:parameters><con:parameter><con:name>destinationId</con:name><con:value>destinationId</con:value><con:style>TEMPLATE</con:style><con:default>destinationId</con:default></con:parameter></con:parameters><con:method name="Method 1" id="9d25fd8d-bbac-4169-9cc4-b5da02b92c69" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="f00ef24d-81e4-44a7-b43f-423ab7721729" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="80nlvhP+/mwJWxqxukANMGgM988i0RUOYikEdnmhHVw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/destination_hotel_images.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="67" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f00aef4f-2af0-4fd8-afef-42f285e3d2e4" wadlVersion="http://wadl.dev.java.net/2009/02" name="DestinationTopTestimonials" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="destination_top_testimonials.json" path="/api/v1/destinations/{destinationId}/destination_top_testimonials.json" id="e64cafd1-6f98-45a2-bf1d-1c5de3d6e6fc"><con:settings/><con:parameters><con:parameter><con:name>destinationId</con:name><con:value>destinationId</con:value><con:style>TEMPLATE</con:style><con:default>destinationId</con:default></con:parameter><con:parameter><con:name>page_number</con:name><con:value>{page}</con:value><con:style>QUERY</con:style><con:default>{page}</con:default></con:parameter></con:parameters><con:method name="Method 1" id="bba9ad02-ea4b-41e3-b2d9-d1b34c559e0c" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="4ab32d67-b8f7-43ae-8d19-713dbbbdee36" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="UoJYeZsc7Sj1yGvwPLzwtrfLxJnzdDEalV0t8aU5RyI="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/destinations/67/destination_top_testimonials.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="destinationId" value="67"/>
  <con:entry key="page_number" value="1"/>
</con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="b3df01a6-da9b-41ad-90c5-1bccde33b264" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetDestinationExtend" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_destinations_extend.json" path="/api/v2/destinations/{destinationId}/get_destinations_extend.json" id="cba0b985-83f4-4f7b-9654-beb2d6b25d76"><con:settings/><con:parameters><con:parameter><con:name>destinationId</con:name><con:value>destinationId</con:value><con:style>TEMPLATE</con:style><con:default>destinationId</con:default></con:parameter></con:parameters><con:method name="Method 1" id="6ea166fb-d56d-400a-aed9-73adea5c01ff" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="0f32e8ff-1fc9-42c2-8ca5-ee7167455128" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b;"/>
  &lt;con:entry key="TT-Mobile" value="oQIFBskCnaIyY5CAp545xV+WtrlFcscEoz40bMpwL3k="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/get_destinations_extend.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="67" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="74ed2aa0-06b5-4b9b-890b-e23745960c4d" wadlVersion="http://wadl.dev.java.net/2009/02" name="ViewPackage" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="{package_headline}" path="/api/v3/tour_packages/{package_headline}" id="f2540c99-f3e2-4df3-b43e-be73445e62bf"><con:settings/><con:parameters><con:parameter><con:name>package_headline</con:name><con:value>package_headline</con:value><con:style>TEMPLATE</con:style><con:default>package_headline</con:default></con:parameter></con:parameters><con:method name="Method 1" id="40cb302f-62b6-4353-aec3-fc7092aec9bb" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="fccd7a70-c8f4-439c-ba58-8d6378c7da35" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b"/>
  &lt;con:entry key="TT-Mobile" value="F73uJe8DAIPpRw6deKdX7ojvF3Sc4eW8R45haEUeZxA="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/tour_packages/package_headline</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="d3256e92-229e-49ac-a989-a4a66515ccb4" wadlVersion="http://wadl.dev.java.net/2009/02" name="NewRequestForm1" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="new.json" path="/api/v1/requested_trips/new.json" id="7f21b5ef-17f3-4048-9f3c-04146c7a4b6f"><con:settings/><con:parameters><con:parameter><con:name>destination_ids[]</con:name><con:value>60,61</con:value><con:style>QUERY</con:style><con:default>60,61</con:default></con:parameter></con:parameters><con:method name="Method 1" id="78bc7a17-dd6a-4518-a4e4-6207de2dd483" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="196f7986-e711-407a-99fc-68aac4c6148a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b;"/>
  &lt;con:entry key="TT-Mobile" value="AxdlZWNK1EOlfJ+DSOY++0ZoiL3jNdsBrsM0fNNdvmE="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips/new.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="a779f994-3233-4173-9ee3-3a8843997dbe" wadlVersion="http://wadl.dev.java.net/2009/02" name="NewRequestedTrips" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="requested_trips" path="/api/v1/requested_trips" id="bec9031d-2c6e-4a51-a21f-9a7c64bff397"><con:settings/><con:parameters/><con:method name="Method 1" id="400355cb-b299-4de4-ae16-8c84b4dc9749" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="4a456b39-a76e-4c09-a86d-280850ef8cf4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","email":"testing1112015a@rediffmail.com","from_complete":"Uttar Pradesh,India","from_loc":"Noida, India","usr_location":"Noida, India","phone_no":"","preferences":[],"start_date":"2016-08-26","to_loc":"Singapore,Malaysia","trip_days":"7","trip_stage":"2"}}</con:request><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dc72b27c-65d4-430d-8dc7-dcc3e04d3048" wadlVersion="http://wadl.dev.java.net/2009/02" name="CreateRequest" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="{request_id}" path="/api/v1/requested_trips/{request_id}" id="8502e485-840e-4f4f-bb15-4747baba649c"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="0df41bd6-2c0a-4406-92bc-8a30673c9862" method="PUT"><con:settings/><con:parameters/><con:request name="Request 1" id="77caa3a5-a5fa-4223-9f05-ae63ca901e91" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","adult":"2","child":"0","email":"testing1112015a@rediffmail.com","from_complete":"United","from_loc":"Noida, India","usr_location":"United","preferences":[{"customization_id":2,"options":[{"name":"3 Star","id":8,"tags":"","val":[]}]},{"customization_id":43,"options":[{"name":"in this week","id":203,"tags":"","val":[]}]},{"customization_id":71,"options":[]},{"customization_id":29,"options":[]}],"start_date":"2016-08-27","to_loc":"Singapore","trip_days":"7"}}</con:request><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5c0e149f-3806-4698-9b16-c549b946413e" wadlVersion="http://wadl.dev.java.net/2009/02" name="Admin_close_requested_trip" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="close_requested_trip" path="/admins/close_requested_trip" id="43034f9a-a191-4b90-a782-d27fba6d87e2"><con:settings/><con:parameters/><con:method name="Method 1" id="f13883b3-a78b-484d-a7f7-5b3aac5f3229" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="49de009f-7af1-45cc-83e9-5bd95759cbd8" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7C0kiD3Nlc3Npb25faWQGOgZFVEkiJTRiMGU5YzVlMDViMTExOTdiNmY4N2U1ZTIyNzVhNDY5BjsAVEkiDHJlZmVyZXIGOwBUSSIgaHR0cDovLyhkaXJlY3QpOjooZGlyZWN0KTo6BjsAVEkiEHJlZmVyZXJfbmV3BjsAVEkiHihkaXJlY3QpfihkaXJlY3Qpfn4obm9uZSkGOwBUSSIZd2FyZGVuLnVzZXIudXNlci5rZXkGOwBUWwdbBmkDiIgFSSIiJDJhJDEwJFhlOFpIY0tRT0ZhQ1ZoLnlQcElTWmUGOwBUSSIObmV4dF9wYXRoBjsARkkiHC9yZXF1ZXN0ZWRfdHJpcHMvOTUzMzQxBjsARkkiEF9jc3JmX3Rva2VuBjsARkkiMWdEbzFYRmt0eGk2SXVabTA4M0I1Z3JsanhpV2hyQzhwajk5RlBEYld0Rnc9BjsARg%3D%3D--9e61ff6bd7b63b3a8b39370bb58ed207400c902e;"/>
  &lt;con:entry key="X-Requested-With" value="XMLHttpRequest"/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded; charset=UTF-8"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request><![CDATA[utf8=%E2%9C%93&authenticity_token=gDo1XFktxi6IuZm083B5grljxiWhrC8pj99FPDbWtFw%3D&trip_id=953341&tags=tt_demo_agent(agent)%2C+&from_loc_type=Domestic&to_loc_type=International&adminComments=&notify_agents=&task_scheduler%5Btitle%5D=&task_scheduler%5Bemail%5D=vineet.singh%40traveltriangle.com&task_scheduler%5Brun_at%5D=&task_scheduler%5Bmessage%5D=&task_scheduler%5Brequested_trip_id%5D=953341&task_scheduler%5Buser_id%5D=362632&task_scheduler_id=&status=Active&traveler_stage=&dromant_reason=&commit=Edit+Request]]></con:request><con:originalUri>http://traveler-api.ttdev.in/admins/close_requested_trip</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f0ae7abe-d816-42bf-ae16-04956e5bd475" wadlVersion="http://wadl.dev.java.net/2009/02" name="ALL_CATEGORIES" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_categories.json" path="/api/{api_version}/trip_types/all_categories.json" id="be43f297-0718-420d-ac04-9c1198876e62"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>v1</con:value><con:style>TEMPLATE</con:style><con:default>v1</con:default></con:parameter></con:parameters><con:method name="Method 1" id="b148b950-8de3-43e9-8376-b5cfcd529048" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="e77b538c-145b-4012-9b1a-22cc4b8d040d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="tw5U6WZlXSvlz9nOnQTuybIgV3LHsuxl1tnDWYmzUeE="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2da48194-2396-475f-9117-c306f5fb2667" wadlVersion="http://wadl.dev.java.net/2009/02" name="ALL_THEMES" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_themes.json" path="/api/{api_version}/themes/all_themes.json" id="13074785-9ace-4538-bf19-206fe191cb05"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter></con:parameters><con:method name="Method 1" id="81c108b1-a70d-4b18-9b81-ba07e7fd9fd8" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="46d28c9a-9d2c-449a-8e05-13548d907d93" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="YV198JPkpYtmyNHmIr9k3HJ8Ip+ONirs98fuWoH2M9M="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f73ca72a-395e-4417-872a-e69baf8da23f" wadlVersion="http://wadl.dev.java.net/2009/02" name="Destination_Catalog" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/{api_version}/get_filtered_results" id="51688335-5474-45aa-8b62-aeb5dd533292"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>page_number</con:name><con:value>{pageNo}</con:value><con:style>QUERY</con:style><con:default>{pageNo}</con:default></con:parameter><con:parameter><con:name>result_type</con:name><con:value>destination_catalog</con:value><con:style>QUERY</con:style><con:default>destination_catalog</con:default></con:parameter><con:parameter><con:name>per_page</con:name><con:value>{per_page}</con:value><con:style>QUERY</con:style><con:default>{per_page}</con:default></con:parameter></con:parameters><con:method name="Method 1" id="e514dada-ea78-49fe-8aab-712fcde33811" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="335f69a5-f903-4dfd-b738-dbe4ef64bc03" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="vJmYMB6zX5sDFDcuwN/KtA1z65uEnTYfFbDhL2qGMG0="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="per_page" value="50"/>
  <con:entry key="page_number" value="1"/>
  <con:entry key="api_version" value="v4"/>
</con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="4cfd9e69-ecd8-4d4c-8492-fc92179b0fdd" wadlVersion="http://wadl.dev.java.net/2009/02" name="ForgotPassword" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="password" path="/users/password" id="eda04f84-de4e-4b48-8e6b-73016b88d9a6"><con:settings/><con:parameters/><con:method name="Method 1" id="12c52e32-7f56-4811-9a9f-ef1d3dd388ee" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="8775a176-4ad6-4d95-a314-55fbcdfc4577" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile" value="sHZ0s4bfjVNmVgQcCFK8A8RHn1haKBBLNDN/9c2xETM="/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"user":{"email":"testing1112015a@rediffmail.com"}}</con:request><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="fb13356d-b640-41c5-8152-a2c48685041e" wadlVersion="http://wadl.dev.java.net/2009/02" name="FilterType" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="filter" path="/api/{api_version}/metadata/filter" id="9f3341db-c9f9-4434-88c8-7c018bfaad53"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>filter_type</con:name><con:value>search</con:value><con:style>QUERY</con:style><con:default>search</con:default></con:parameter></con:parameters><con:method name="Method 1" id="bdb2b40c-cad5-488e-ae1b-1be61cbf6c7e" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="ZeyDUBXrnaxISvdqcsJhffWNLYwh038RT8zlvOhGkKI="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="359c35c1-ebfd-4a81-ae8b-e4af02ad08e9" wadlVersion="http://wadl.dev.java.net/2009/02" name="Get Filtered Results" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/{api_version}/get_filtered_results" id="b995d46c-d6e9-4612-baf4-e7c55b93788d"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>days</con:name><con:value>4-6</con:value><con:style>QUERY</con:style><con:default>4-6</con:default></con:parameter><con:parameter><con:name>trip_type</con:name><con:value>2</con:value><con:style>QUERY</con:style><con:default>2</con:default></con:parameter><con:parameter><con:name>category</con:name><con:value>family</con:value><con:style>QUERY</con:style><con:default>family</con:default></con:parameter><con:parameter><con:name>result_type</con:name><con:value>all</con:value><con:style>QUERY</con:style><con:default>all</con:default></con:parameter><con:parameter><con:name>price_ranges</con:name><con:value>40000-60000</con:value><con:style>QUERY</con:style><con:default>40000-60000</con:default></con:parameter></con:parameters><con:method name="Method 1" id="13226ef0-69e0-496f-acbc-3e3908b5a898" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="7a30ee31-8127-4cf9-86b0-97240048dfba" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="utlhYods7vSE3pI9j6uFJ+vs0lII5Xr5ZNTRcffUTb0="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5e6ba3d9-8a76-497f-bee1-1dac7f238749" wadlVersion="http://wadl.dev.java.net/2009/02" name="FilterDestinationsCatalogSearchResults" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/v4/get_filtered_results" id="1b219307-a817-47b0-9799-cdbb37034b54"><con:settings/><con:parameters><con:parameter><con:name>days</con:name><con:value>10-12</con:value><con:style>QUERY</con:style><con:default>10-12</con:default></con:parameter><con:parameter><con:name>per_page</con:name><con:value>50</con:value><con:style>QUERY</con:style><con:default>50</con:default></con:parameter><con:parameter><con:name>result_type</con:name><con:value>destination_catalog</con:value><con:style>QUERY</con:style><con:default>destination_catalog</con:default></con:parameter><con:parameter><con:name>activity</con:name><con:value>11,4,3</con:value><con:style>QUERY</con:style><con:default>11,4,3</con:default></con:parameter><con:parameter><con:name>page_number</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter><con:parameter><con:name>months</con:name><con:value>10-12</con:value><con:style>QUERY</con:style><con:default>10-12</con:default></con:parameter><con:parameter><con:name>price_ranges</con:name><con:value>80000-100000,100000-200000</con:value><con:style>QUERY</con:style><con:default>80000-100000,100000-200000</con:default></con:parameter><con:parameter><con:name>destination_type</con:name><con:value>international</con:value><con:style>QUERY</con:style><con:default>international</con:default></con:parameter><con:parameter><con:name>sort_by</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter></con:parameters><con:method name="Method 1" id="fd3e46da-8ece-4104-9cff-be5a6b524360" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="0684b8d0-f7d7-4119-899a-d47c06780a8f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="lI05shmbeB3/njVQ6QcGBxSfgqiRB8/PBisc2BkTchk="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>days</con:entry><con:entry>per_page</con:entry><con:entry>result_type</con:entry><con:entry>activity</con:entry><con:entry>page_number</con:entry><con:entry>months</con:entry><con:entry>price_ranges</con:entry><con:entry>destination_type</con:entry><con:entry/></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dfc1c1fb-e34d-4b38-bde8-fd706e7aed95" wadlVersion="http://wadl.dev.java.net/2009/02" name="PackageCatalogForADestination" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/{api_version}/get_filtered_results" id="a1d4b944-083a-415f-a655-930e3b98c75a"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>result_type</con:name><con:value>package_catalog</con:value><con:style>QUERY</con:style><con:default>package_catalog</con:default></con:parameter><con:parameter><con:name>destination</con:name><con:value>65</con:value><con:style>QUERY</con:style><con:default>65</con:default></con:parameter></con:parameters><con:method name="Method 1" id="84446f39-18d9-4528-bdc9-45574cda6b71" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="609a0f5f-2282-4432-bf9b-fa6f91d85efd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="9oPWMdCjVwvdSypRiYe7NVXRmYawM7G6Dk/YMieE9Q0="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="7ee94fdd-5886-4645-9083-17908549417b" wadlVersion="http://wadl.dev.java.net/2009/02" name="CurrencyConverter" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="current_currency_rate.json" path="/api/{api_version}/current_currency_rate.json" id="37af83a2-bc66-4366-bee6-4b9ea91e02b6"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>v2</con:value><con:style>TEMPLATE</con:style><con:default>v2</con:default></con:parameter></con:parameters><con:method name="Method 1" id="a349ecf3-6499-4eec-85ac-d9f081084ddb" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="7a0e6a00-5c43-41ea-be57-14bd2ab5064e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="4pBUgHBCFnLjBnTJc6P71RmSHnjJZfqqe485CUKBjBc="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f6d286cd-924f-48f5-9f24-119a24175103" wadlVersion="http://wadl.dev.java.net/2009/02" name="AllDestinations" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_destinations" path="/api/{api_version}/trip_types/all_destinations" id="bf4c4caa-4b02-4c0f-9f58-ecdd37a7983c"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter></con:parameters><con:method name="Method 1" id="af476ebe-eb62-40c7-8489-05c048657ddf" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="11a3efbf-a754-4d81-953d-eb828619270e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given TT-Mmobile token for all destination is generated#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="1331663b-648f-4941-b82b-617ec32cb39c" wadlVersion="http://wadl.dev.java.net/2009/02" name="AllDestinationsByCategory" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_destinations.json" path="/api/v1/trip_types/{category_id}/all_destinations.json" id="021cf02e-eeb3-43ed-9756-fb30b53d40d9"><con:settings/><con:parameters><con:parameter><con:name>category_id</con:name><con:value>category_id</con:value><con:style>TEMPLATE</con:style><con:default>category_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="83fc694e-4f5c-4261-9b86-7918455fd9df" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="dfc00f51-db2d-4181-8022-b778d04b22b9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="7473c553-f0a9-4e9f-b9b3-5cc174cb1282" wadlVersion="http://wadl.dev.java.net/2009/02" name="AllDestinationsByTheme" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_destinations" path="/api/{api_version}/themes/{theme_id}/all_destinations" id="b7a3659d-27ba-4002-bd76-b8f91779f4be"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>theme_id</con:name><con:value>theme_id</con:value><con:style>TEMPLATE</con:style><con:default>theme_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="5c7094fd-41ba-4638-bd43-b863c9a1ad73" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="27a8e01d-34a1-4ec4-be65-1aa3c6484e89" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5dd6a471-e110-41c1-a006-abeb8fdc354c" wadlVersion="http://wadl.dev.java.net/2009/02" name="RequestMoreQuote" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="post_traveler_ask_new_quote.json" path="/requested_trips/{requestID}/post_traveler_ask_new_quote.json" id="8288c330-90b6-48f5-90e8-96d3eefea76b"><con:settings/><con:parameters><con:parameter><con:name>requestID</con:name><con:value>requestID</con:value><con:style>TEMPLATE</con:style><con:default>requestID</con:default></con:parameter></con:parameters><con:method name="Method 1" id="d59dcdd1-971c-41f4-903e-67a949028b4d" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="2883f348-5a00-448a-a5ee-4dc0311fba0b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTcxMTNkYjk1MWVkZTUxMGMwOGI5MjA4ZWUzNzM4ZDg4BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--a85801f81766e98f47c4af97eceb339af26fb966;"/>
  <con:entry key="TT-Mobile" value="qNafm82yapHXszPYUiRciBmbUDf5CexOBQ83mXDxDYk="/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"feedback":1}</con:request><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="bde3bc3c-fd34-40c1-9e54-d7c8eea5bfc5" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetBookedOrConvertedQuotes" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_booked_or_converted_quotes.json" path="/api/{apiversion}/quotes/get_booked_or_converted_quotes.json" id="51073971-1d5a-47f8-8484-33bffc1a458f"><con:settings/><con:parameters><con:parameter><con:name>apiversion</con:name><con:value>apiversion</con:value><con:style>TEMPLATE</con:style><con:default>apiversion</con:default></con:parameter></con:parameters><con:method name="Method 1" id="96ec56f5-6e63-4608-8f72-12af789126d3" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="a5e05bb1-49bb-475e-87a8-c6790196afa1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTMxZmI3YmIyMTU2MmIyYmI5ZmViZWFlY2E0ZThkN2UyBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--5d3521bf38b1882135510840236913749adebfff; path=/; HttpOnly"/>
  <con:entry key="TT-Mobile" value="0DqlHrp+IySa4E6nCdsZCOpck4moOsss3jFpXCUj0Mg="/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="apiversion" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="d48dbf15-5849-4e02-93bb-ce6ac0d7d001" wadlVersion="http://wadl.dev.java.net/2009/02" name="AllRequestedTripData" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_trips_user.json" path="/api/{api_version}/requested_trips/all_trips_user.json" id="ca818369-bbf0-4c46-b311-8454e4832520"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>all_trip_data</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter><con:parameter><con:name>currency</con:name><con:value>Dollar</con:value><con:style>QUERY</con:style><con:default>Dollar</con:default></con:parameter></con:parameters><con:method name="Method 1" id="e7905b5d-9225-4c47-9a3d-8312abf3b8ca" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="f6ad2b15-1fdc-4ebf-b337-e16af55dc48a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value=""/>
  <con:entry key="TT-Mobile" value=""/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dd4aec1d-e373-47e2-8349-0e6506b7c514" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetSingleRequestedTrip" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="{requested_trip_id}.json" path="/api/v2/requested_trips/{requested_trip_id}.json" id="e454c82c-67bf-4050-a90f-b3c9cb8a7302"><con:settings/><con:parameters><con:parameter><con:name>requested_trip_id</con:name><con:value>requested_trip_id</con:value><con:style>TEMPLATE</con:style><con:default>requested_trip_id</con:default></con:parameter><con:parameter><con:name>include_quotes</con:name><con:value>false</con:value><con:style>QUERY</con:style><con:default>false</con:default></con:parameter><con:parameter><con:name>currency</con:name><con:value>Dollar</con:value><con:style>QUERY</con:style><con:default>Dollar</con:default></con:parameter></con:parameters><con:method name="Method 1" id="0cec0916-1400-437b-9c4d-fb766db699d6" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="afa80f63-d378-4a35-80d1-234322ba1e8e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTMxZmI3YmIyMTU2MmIyYmI5ZmViZWFlY2E0ZThkN2UyBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--5d3521bf38b1882135510840236913749adebfff; path=/; HttpOnly"/>
  <con:entry key="TT-Mobile" value="0DqlHrp+IySa4E6nCdsZCOpck4moOsss3jFpXCUj0Mg="/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="46bec664-86f2-4361-8534-8c8f98a53862" wadlVersion="http://wadl.dev.java.net/2009/02" name="User_Bookings" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_trips_user.json" path="/api/{api_version}/requested_trips/all_trips_user.json" id="dcd8cb69-a635-46cf-8aba-487f0efbeba7"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>all_trip_data</con:name><con:value>true</con:value><con:style>QUERY</con:style><con:default>true</con:default></con:parameter></con:parameters><con:method name="Method 1" id="37cf658c-d260-451b-9155-9e5da4488a5b" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="27764431-8f4d-4173-a9f6-7289f6b5195c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWJlN2E0MjRjOGZkZWZiMzFjZDQyYWVlY2E3MDkxNWU2BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--7bfa544a488b52dce35a0df1d9d6086b8c9056bd; path=/; HttpOnly"/>
  <con:entry key="TT-Mobile" value="G35TUEtf7OhRlzLWD7AuuE0ynTMAU6752hbRBmORwKk="/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:testSuite id="fdca761a-7dc9-4c44-8551-75593cd9d082" name="ReusableTests" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="1966b330-a53d-494b-ba1a-a687afdeabe8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateToken" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="4afacfac-43d1-4460-8712-12aef9c0477c"><con:settings/><con:config><script>import java.security.MessageDigest;
import org.codehaus.groovy.runtime.EncodingGroovyMethods;


String requestUrl = context.expand('${#TestCase#request_url}');
String userEmail = context.expand('${#TestCase#user_email}');
String requestType = context.expand('${#TestCase#request_type}');
log.info requestUrl;
String digest;

if( requestType == "get" ){
  	digest = requestUrl; 
} else {
digest = userEmail + requestType;
}

digest = getUserDigest(digest); //this is final digest

log.info digest;
testRunner.testCase.setPropertyValue("hash_key",digest);

String getUserDigest(String digest) {
   String TT_S_KEY = "DAFAC0A55F50A75558B778035E3C9A8BDF03AF1E4C2124D2CD5DD42092EFD32E";
   try {
       digest = TT_S_KEY + digest;
       MessageDigest msgDigest = MessageDigest.getInstance("SHA-256");
       msgDigest.update(digest.getBytes());
       EncodingGroovyMethods encodeObj = new EncodingGroovyMethods();
       //digest = new String(Base64.encode(msgDigest.digest(), Base64.DEFAULT));
       digest = encodeObj.encodeBase64(msgDigest.digest()).toString();
       if (digest.length() > 164) {
           digest = digest.substring(0, 163);
       }
       return digest;
   } catch (Exception e) {
       log.info e.getMessage();
   }
   return null;
}
</script></con:config></con:testStep><con:properties><con:property><con:name>request_url</con:name><con:value>http://traveler-api.ttdev.in/requested_trips/946240/post_traveler_ask_new_quote.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>jocker11@gmail.com</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>qNafm82yapHXszPYUiRciBmbUDf5CexOBQ83mXDxDYk=</con:value></con:property></con:properties></con:testCase><con:testCase id="d6e38075-ad8f-4890-9379-2f1cb755b34d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User press the search tab" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user get the TT-MObile token for search tab" id="75ded9eb-a813-4ba3-863d-9f02dd664f1f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=search</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>ZeyDUBXrnaxISvdqcsJhffWNLYwh038RT8zlvOhGkKI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And search filter type is invoked" id="c582bfd1-ee48-40eb-ae4b-3f4844427f9d"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And search filter type is invoked" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given user get the TT-MObile token for search tab#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d15bc2a0-6f2b-4528-8a83-580060e4b43e" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="3057c977-27a6-49f4-98bb-4e4c141a510e" name="Verify Filter details"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

//Assert the filter type
String filter_type = json_response_holder.filter_type;
assert(filter_type == "search");

//Assert the filters details.

String[] filter_titles = json_response_holder.filters.title;

assert("Category" in filter_titles);
assert("Budget perperson (In Rs.)" in filter_titles);
assert("Duration(days)" in filter_titles);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And again get the TT-Mobile token for package_catalog" id="081872f1-42f8-4133-b434-88d56388db6e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=package_catalog</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>JaIOLLAGfZt+Y186F9IT0X9WvXlgCquii8FHe/tzFT8=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And invoke the package catalog" id="07a22636-0847-443f-8510-d1c10aec6bc3"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And invoke the package catalog" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${And again get the TT-Mobile token for package_catalog#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3d4990d0-03f4-483c-a160-1478cd19b031" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fc38b5b1-362c-44ef-901a-4ff36c3b1466" name="Verify package_catalog data"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String filter_type = json_response_holder.filter_type;

assert(filter_type == "package_catalog");

String[] filter_titles = json_response_holder.filters.title;

assert("Type of Destination" in filter_titles);
assert("Categories" in filter_titles);
assert("Duration(days)" in filter_titles);
assert("Budget perperson (In Rs.)" in filter_titles);
assert("Hotel Star Rating" in filter_titles);
assert("Activities" in filter_titles);
assert("" in filter_titles);


int number_of_filters = filter_titles.size();

for(int i = 0; i &lt; number_of_filters;i++){

if(filter_titles[i] == "Type of Destination"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 2);
	assert("India" in option_title);
	assert("International" in option_title);
}
else if(filter_titles[i] == "Categories"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 2);
	assert("Honeymoon" in option_title);
	assert("Family" in option_title);
}
else if(filter_titles[i] == "Duration(days)"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("1-3" in option_title);
	assert("4-6" in option_title);
	assert("7-9" in option_title);
	assert("10-12" in option_title);
	assert(">12" in option_title);
	
}
else if(filter_titles[i] == "Budget perperson (In Rs.)"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 8);
	assert("Below 10,000" in option_title);
	assert("10,000 - 20,000" in option_title);
	assert("20,000 - 40,000" in option_title);
	assert("40,000 - 60,000" in option_title);
	assert("60,000 - 80,000" in option_title);
	assert("80,000 - 1 Lac" in option_title);
	assert("1 Lac - 2 Lac" in option_title);
	assert("Above 2 Lac" in option_title);
}
else if(filter_titles[i] == "Hotel Star Rating"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 4);
	assert("5 Star" in option_title);
	assert("4 Star" in option_title);
	assert("3 Star" in option_title);
	assert("2 Star" in option_title);

}
else if(filter_titles[i] == "Activities"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("Adventure" in option_title);
	assert("Nature" in option_title);
	assert("Hill Station" in option_title);
	assert("Religious" in option_title);
	assert("Water Activities" in option_title);

}
else if(filter_titles[i] == ""){
	String[] option_title = json_response_holder.filters.options[i].title;
	String filter_name = json_response_holder.filters.param_name[i];
	assert(filter_name == "sort_by");
	
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("Popularity" in option_title);
	assert("Price: Low To High" in option_title);
	assert("Price: High To Low" in option_title);
	assert("Duration: Low To High" in option_title);
	assert("Duration: High To Low" in option_title);

}

	
}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="filter_type" value="package_catalog"/>
  <con:entry key="api_version" value="v3"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again get the TT-MObile token for destination_catalog" id="f36190c1-bdc7-4bb0-8787-9ba192c9be94"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=destination_catalog</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>gOkWXGJfLtYn0MMRGSzhF/ydUSRK4IFnH6EJXVhywZA=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And also invoke the destination catalog" id="d3e727e9-f7e9-4d98-8a0a-57c42054a716"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And also invoke the destination catalog" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Again get the TT-MObile token for destination_catalog#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="bab5f0bc-75e9-4391-9b1d-1049503ea8c0" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d99d3722-3308-4dd1-a945-bf997fc5d953" name="Verify destimation catalog data"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String filter_type = json_response_holder.filter_type;
assert(filter_type == "destination_catalog");

String[] filter_titles = json_response_holder.filters.title;

int filter_count = filter_titles.size();
assert(filter_count != 0);

assert("Destination type" in filter_titles);

assert("Month of travel" in filter_titles);

assert("Activities" in filter_titles);

assert("Duration(days)" in filter_titles);

assert("Budget (per person)" in filter_titles);

assert("" in filter_titles);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="filter_type" value="destination_catalog"/>
  <con:entry key="api_version" value="v3"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="443a1d8a-5ee5-4957-86ba-237b43c1fc4e" name="UserProfileAndAccount"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="5ab66c45-5d18-4dcb-8819-795ff4a3c798" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_LoggedIn_To_TT_With_CorrectCredentials" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user gets the hash key" id="a312f009-b295-493d-a53c-e260ac7319f0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>qNafm82yapHXszPYUiRciBmbUDf5CexOBQ83mXDxDYk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user logged in successfully with correct credentials" id="0e1675e5-97d4-454a-b905-87c616add1bc"><con:settings/><con:config service="SIGNIN" methodName="Method 1" resourcePath="/users/sign_in" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user logged in successfully with correct credentials" id="55632a5e-ad0a-4e8b-ae12-9dd447c981db" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="${#Project#user_email}"/>
  <con:entry key="TT-Mobile" value="${Given user gets the hash key#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
</xml-fragment>]]></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#Project#user_email}","password":"${#Project#user_password}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:assertion type="Simple Contains" id="3c794e95-ea7c-457e-971f-f30d9110fc59" name="EmailExistsInResponse"><con:configuration><token>${#Project#user_email}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="dcd47f93-5282-4b7f-a6bf-743b2a7e0455" name="success status is true"><con:configuration><token>true</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="8ca175ae-cf19-4e41-b512-9690eebb3082" name="Get user details"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String user_id = json_response_holder.current_user.id.toString();

String auth_key = json_response_holder.current_user.pubnub_auth.auth_key;

messageExchange.modelItem.testCase.setPropertyValue("user_id",user_id);

messageExchange.modelItem.testCase.setPropertyValue("auth_key",auth_key);</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e7d7bd92-1d43-400b-8111-eca1329e2326" name="Get the response cookie"><con:configuration><scriptText>for(String cookie in messageExchange.getResponseHeaders()["Set-Cookie"]){
	if(cookie.contains("_trips3m_session")){
		messageExchange.modelItem.testCase.setPropertyValue("Cookie",cookie);
	}
}</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again user get the hash key" id="13724300-9a2b-4709-b9d8-40f223c2db59"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/app_config.json?user_id=${#TestCase#user_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>q51ITw1mJAiRBUMIWYR+fdgCn8vX7LjHR13fgifnmbc=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And App config is loaded successfully for a user" id="34c19dcb-6898-4195-8ec6-c335b0057e64"><con:settings/><con:config service="AppConfig" resourcePath="/api/{api_version}/app_config.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And App config is loaded successfully for a user" id="8102f3b4-c7de-4700-a705-9a8e6737f51b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Again user get the hash key#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/app_config.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ab82efe1-d321-49e2-9874-fc8d1baeec24" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="user_id" value="${#TestCase#user_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_id</con:name><con:value>635803</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>fc8b882e799b11e6955a0a213af2e147</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTIyZTA4ZDEyMGY3NTI4ZWZhMjQxZGIzZWJhMGYyMTcxBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--a3acb82ca7b0bd4c9e8e544353df5ef25cbc393a; path=/; HttpOnly</con:value></con:property></con:properties></con:testCase><con:testCase id="0e255d9d-5360-41c4-acdf-df9417904836" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_NotLoggedIn_With_InCorrectCredentials" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user gets the hash key" id="af11ad44-cb99-4797-89cd-e0bf3dec411d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>qNafm82yapHXszPYUiRciBmbUDf5CexOBQ83mXDxDYk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user not logged in if password is incorrect" id="199a53a1-33d7-4133-80e6-da483d24b331"><con:settings/><con:config service="SIGNIN" methodName="Method 1" resourcePath="/users/sign_in" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user not logged in if password is incorrect" id="55632a5e-ad0a-4e8b-ae12-9dd447c981db" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="${#Project#user_email}"/>
  <con:entry key="TT-Mobile" value="${Given user gets the hash key#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
</xml-fragment>]]></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#Project#user_email}","password":"incorrectpassword"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:assertion type="Simple Contains" id="3c794e95-ea7c-457e-971f-f30d9110fc59" name="error in response"><con:configuration><token>error</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="dcd47f93-5282-4b7f-a6bf-743b2a7e0455" name="error message validation"><con:configuration><token>Invalid email or password.</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="And user not logged in if username is incorrect" id="206f70f0-96ce-414c-8ebb-ca6e4a7ca1b1"><con:settings/><con:config service="SIGNIN" methodName="Method 1" resourcePath="/users/sign_in" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user not logged in if username is incorrect" id="55632a5e-ad0a-4e8b-ae12-9dd447c981db" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="${#Project#user_email}"/>
  <con:entry key="TT-Mobile" value="${Given user gets the hash key#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"incorrectemail@mailinator.com","password":"${#Project#user_password}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:assertion type="Simple Contains" id="3c794e95-ea7c-457e-971f-f30d9110fc59" name="error in response"><con:configuration><token>error</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="dcd47f93-5282-4b7f-a6bf-743b2a7e0455" name="error message validation"><con:configuration><token>Invalid email or password</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>2dbd3c985d5011e697ad0a213af2e147</con:value></con:property></con:properties></con:testCase><con:testCase id="deabf5ec-49ea-4267-8d1f-d8c63215b89a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_LoggedOut_Successfully" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user login to app" id="f21db895-3dee-414e-89dd-e00a57c4f7bb"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>635803</con:value></con:property><con:property><con:name>auth_key</con:name></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTBiY2Y2NjMyNjVkMTc2NDRlZjQ4ODhmZDZjMzU0M2E4BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--face64acd36e287e460bc6caec132679ac850dda; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And get the TT-Mobile token for logout" id="861c919a-f439-4299-951a-3405b2fff2ce"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://http://${#Project#traveler_apiendpoint}/users/sign_out?logout_type=json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>/cUZDSbkx2P3LaWrRuqBLmCAIQB4qqKpd5h1WLWI/WI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user just Logged Out" id="0e777f02-be47-4f41-aa71-8fca5590ed0c"><con:settings/><con:config service="SignOut" resourcePath="/users/sign_out" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user just Logged Out" id="a74304c6-ae88-4acd-8fe5-4419af193deb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to app#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And get the TT-Mobile token for logout#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/users/sign_out</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ba4778ef-d417-4a81-99b0-38ee7575f576" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="31127733-a7aa-477b-8f4d-f52208ba35d2" name="success"><con:configuration><token>success</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="9f19524f-ef61-4a73-ac49-99c44e77ac0e" name="true"><con:configuration><token>true</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>2dbd3c985d5011e697ad0a213af2e147</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFVEkiJTY1YmI3YjU1ODY3ZjY4ZGVmYTczZWI3YTUwOTYxOTQ5BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--774be2df43dcfa877aa5c85c7ae28182ad7736f6; path=/; HttpOnly</con:value></con:property></con:properties></con:testCase><con:testCase id="dc3f7c93-a697-40cd-9132-6d3aa4c3adda" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Forgot_Password" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user generate TT-Mobile token for Forgot password" id="bde51a5a-8831-4174-928e-813bb51358c5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/users/password</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>qNafm82yapHXszPYUiRciBmbUDf5CexOBQ83mXDxDYk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="When user select forgot password then request gets created" id="b45bae47-fde6-4f37-a129-afbf7b05e258"><con:settings/><con:config service="ForgotPassword" resourcePath="/users/password" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="When user select forgot password then request gets created" id="11e717d5-eb1d-4bb8-b4c0-0cde719f798d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile" value="${Given user generate TT-Mobile token for Forgot password#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"user":{"email":"${#Project#user_email}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/password</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9ae7d300-3385-4fc2-8750-7c09f6c21d7a" name="HTTP Status - 201 Created!"><con:configuration><codes>201</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="fcb50d9a-0a9b-4d4b-a4d6-ddd8f2590462" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Explore_All_Bookings" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user login to application" id="1084e9ec-5c22-4384-82e9-33443d7a5543"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>635803</con:value></con:property><con:property><con:name>auth_key</con:name></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTBiYmJiOGIzNTIwNWZhM2IzMTZiYzIzODIwOTg1N2JhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--e4f8cdc77b77c61a26fb893b7998e36065e280e5; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="When user get the TT-Mobile token to view bookings" id="2f48802f-5399-4df1-848d-4d5754959ca5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/requested_trips/all_trips_user.json?all_trip_data=true</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>G35TUEtf7OhRlzLWD7AuuE0ynTMAU6752hbRBmORwKk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can view all booking done" id="6fa422c8-76df-4827-981e-efb030162698"><con:settings/><con:config service="User_Bookings" resourcePath="/api/{api_version}/requested_trips/all_trips_user.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can view all booking done" id="27764431-8f4d-4173-a9f6-7289f6b5195c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${When user get the TT-Mobile token to view bookings#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/requested_trips/all_trips_user.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7c0fe8a6-efd2-401b-a741-0a6b2c0e0461" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="99160cbe-74f3-4a35-a76b-2321aaa47d18" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

int destination_count = json_response_holder.id.size();

for(int i = 0; i&lt;destination_count;i++){
	ArrayList&lt;String> allnodes = new ArrayList&lt;String>();
	json_response_holder.trip_data[i].each{
		allnodes.add(it.getKey());
	}
	assert("adult" in allnodes);
	assert("budget" in allnodes);
	assert("child" in allnodes);
	assert("currency" in allnodes);
	assert("start_date" in allnodes);
	assert("status" in allnodes);
	assert("to_loc" in allnodes);
	assert("trip_days" in allnodes);

}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="55d1a32b-2205-44d2-be30-11598b75a47b" name="Explore_The_App"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="47175fee-a1e3-4650-bc6a-2f23d7e50ba6" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Browse_EXPLORE_Tabs" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user gets the TT-Mobile hash key" id="a93ac3e4-31e4-41fa-84d0-e29031423242"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/app_config.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>czLSc3s1OigRlHhB2q8TS7ZinzIXG8BBQBFNAyS30ZU=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user initializes an app and config is loaded" id="dd9f4c15-5966-4def-8cdc-40bcd4cea604"><con:settings/><con:config service="AppConfig" resourcePath="/api/{api_version}/app_config.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user initializes an app and config is loaded" id="8102f3b4-c7de-4700-a705-9a8e6737f51b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given user gets the TT-Mobile hash key#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/app_config.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b83965ec-e39d-47a3-be60-5ad8cc7f9894" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e565bd59-0945-45bb-a01d-ed4d4d0940ed" name="Verify The Nodes In response"><con:configuration><scriptText>import groovy.json.JsonSlurper;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_coupon_enabled = json_response_holder.is_coupon_enabled;
def is_referer_enabled = json_response_holder.is_referer_enabled;
def isFabMenuEnabled = json_response_holder.isFabMenuEnabled;
def referral_text = json_response_holder.referral_text;
def helpline = json_response_holder.helpline;
def discount_text = json_response_holder.discount_text;

// verify all node is present, with any value.
assert(is_coupon_enabled != null) : "is_coupon_enabled node is not present";
assert(is_referer_enabled != null) : "is_referer_enabled node is not present";
assert(isFabMenuEnabled != null) : "isFabMenuEnabled node is not present";
assert(referral_text != null) : "referral_text node is not present";
assert(helpline != null) : "helpline node is not present";
assert(discount_text != null) : "discount_text node is not present";
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="user_id" value=""/>
  <con:entry key="api_version" value="${#Project#api_version}"/>
</con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="When user again get the TT-Mobile token for all_categories" id="e62c51b1-6e1d-4aa7-a55b-1edf2bec4b20"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/trip_types/all_categories.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>tw5U6WZlXSvlz9nOnQTuybIgV3LHsuxl1tnDWYmzUeE=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user navigate to all categories" id="6f106587-0109-49a5-b3a5-6269bea25564"><con:settings/><con:config service="ALL_CATEGORIES" resourcePath="/api/{api_version}/trip_types/all_categories.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user navigate to all categories" id="e77b538c-145b-4012-9b1a-22cc4b8d040d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${When user again get the TT-Mobile token for all_categories#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/trip_types/all_categories.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ce0eeb5d-adcf-4b46-90e5-3cd9dacac21b" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Then user can view all categories with valid data" id="89029789-e01b-4d69-804d-22f439d584b2"><con:settings/><con:config><script>import groovy.json.JsonSlurper;
String response = context.expand('${And user navigate to all categories#Response}');

def json_response_holder = new JsonSlurper().parseText(response);

def all_agents = json_response_holder.agents;
def all_destinationcount_foreachcategory = json_response_holder.destination_count;
def all_ids = json_response_holder.id;
def all_category_names = json_response_holder.name;

//verify that category count is not zero.

int category_count = all_category_names.size();
assert(category_count != 0) : "No Catgory fetched.";

// Verify if all the expected nodes are present for each category.

for(int i = 0;i&lt;category_count;i++){
	def agent = json_response_holder.agents[i];
	def destination_count = json_response_holder.destination_count[i];
	def id = json_response_holder.id[i];
	def cloud_images_id = json_response_holder.cloud_images[i].id[0];
	def cloud_images_largeimageurl = json_response_holder.cloud_images[i].large_image_url[0];
	
	assert(agent != null): "agent node is not present for " + i + " number category";
	assert(destination_count != null) : "destination_count node is not present for " + i + " number category";
	assert(id != null) : "id node is not present for " + i + " number category";
	assert(cloud_images_id != null) : "cloud_images_id node is not present for " + i + " number category";
	assert(cloud_images_largeimageurl != null) : "cloud_images_largeimageurl node is not present for " + i + " number category";
}
</script></con:config></con:testStep><con:testStep type="calltestcase" name="When user get the TT-Mobile token for All_themes" id="ac80b8db-272c-434d-a9b1-3a4318123bf1"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/themes/all_themes.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>YV198JPkpYtmyNHmIr9k3HJ8Ip+ONirs98fuWoH2M9M=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user navigate to all themes" id="7d2e8a91-748c-4b33-bfcb-fbeaaddc9292"><con:settings/><con:config service="ALL_THEMES" resourcePath="/api/{api_version}/themes/all_themes.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user navigate to all themes" id="46d28c9a-9d2c-449a-8e05-13548d907d93" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${When user get the TT-Mobile token for All_themes#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/themes/all_themes.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0ad08b87-f307-46eb-9cf5-d6721af79545" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Then user can view all themes with valid data" id="d6152404-b0ce-4b30-8532-43f6edb14ad5"><con:settings/><con:config><script>import groovy.json.JsonSlurper;
String response = context.expand('${And user navigate to all themes#Response}');

def json_response_holder = new JsonSlurper().parseText(response);

def all_ids =  json_response_holder.id;
def all_largeimageurls = json_response_holder.large_image;
def all_theme_names = json_response_holder.name;

//verify that themes count should not be ZERO.
int themes_count = all_ids.size();
assert(themes_count != 0) : "No Themes could be fetched.";

//Verify all expected nodes are there for each theme.

for(int i = 0;i&lt;themes_count;i++){
	def theme_id = json_response_holder.id[i];
	def large_image_urls = json_response_holder.large_image[i];
	def theme_name = json_response_holder.name[i];

	assert(theme_id != null) : "id node is not present for " + i + " number theme.";
	assert(large_image_urls != null) : "large_image_urls node is not present for " + i + " number theme.";
	assert(theme_name != null) : "theme_name node is not present for " + i + " number theme.";
}
</script></con:config></con:testStep><con:testStep type="calltestcase" name="When user gets TT-Mobile token for destinations" id="7a8c122f-c64f-43ff-8557-9a9774226617"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?page_number=1&amp;result_type=destination_catalog&amp;per_page=50</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>vJmYMB6zX5sDFDcuwN/KtA1z65uEnTYfFbDhL2qGMG0=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user navigate to destination tab" id="c619cbb2-f7dc-4b3c-85ff-1e3c73ef13e2"><con:settings/><con:config service="Destination_Catalog" resourcePath="/api/{api_version}/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user navigate to destination tab" id="335f69a5-f903-4dfd-b738-dbe4ef64bc03" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${When user gets TT-Mobile token for destinations#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e4461dd4-01ce-4096-8262-53c827c5fcc1" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="per_page" value="50"/>
  <con:entry key="page_number" value="1"/>
  <con:entry key="api_version" value="v4"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Then user can view the destinations" id="a8fcaa8d-9288-4edf-a148-f9425ab326aa"><con:settings/><con:config><script>import groovy.json.JsonSlurper;
String response = context.expand('${And user navigate to destination tab#Response}');

def json_response_holder = new JsonSlurper().parseText(response);

String result_type = json_response_holder.result_type;
assert(result_type == "destination_catalog");

def all_ids_for_destination = json_response_holder.destinations.id;




// verify the total destinations displayed in a  page.
int total_destinations_per_page = all_ids_for_destination.size();
assert(total_destinations_per_page &lt;= 50 &amp;&amp; total_destinations_per_page != 0);

// verify all nodes are present for each destinations.



for(int i = 0;i&lt;total_destinations_per_page;i++){
	int j = i+1;
	
	ArrayList keys = new ArrayList();
	json_response_holder.destinations[i].each{
		keys.add(it.getKey()); 
	}
	assert("agents" in keys);
	assert("bookings" in keys);
	assert("bttv" in keys);
	assert("img" in keys);
	assert("lat" in keys);
	assert("lon" in keys);
	assert("max_b" in keys);
	assert("min_b" in keys);
	assert("name" in keys);
	assert("destinations_extend" in keys);
}
</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="a7d467d9-754a-40f8-9df6-dc345855765b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Get_All_Destinations" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given TT-Mmobile token for all destination is generated" id="b1ed659e-fd3e-4baf-ac1b-2c2486d8349b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/trip_types/all_destinations</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>ssuL6ZxlN2MPXd0gAn6YUM3pFzF0TInDUavyobqu6H0=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then all destination can be explored" id="d28fc11f-2727-4bce-9e75-27c533406e2e"><con:settings/><con:config service="AllDestinations" resourcePath="/api/{api_version}/trip_types/all_destinations" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then all destination can be explored" id="11a3efbf-a754-4d81-953d-eb828619270e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given TT-Mmobile token for all destination is generated#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/trip_types/all_destinations</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="64c27ab6-2259-43bf-9f37-9ad6bedcdb56" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="74b4cf28-3f7a-4208-aa5f-f7408b392db3" name="Verify response"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

Random rand = new Random();
int destination_count = json_response_holder.id.size();

//Verify count of destination is not ZERO.
assert(destination_count != 0);

//verify all nodes are there for any random destination.
int randomindex = rand.nextInt((destination_count - 0) + 1) + 0;

Integer agent = json_response_holder.agents[randomindex];
Long bookings = json_response_holder.bookings[randomindex];
String bttv = json_response_holder.bttv[randomindex];
Integer id = json_response_holder.id[randomindex];
Float lat = json_response_holder.lat[randomindex];
Float lon = json_response_holder.lon[randomindex];
Long max_b = json_response_holder.max_b[randomindex];
Long min_b = json_response_holder.min_b[randomindex];
String name = json_response_holder.name[randomindex];
String img = json_response_holder.img[randomindex];

assert(agent != null);
assert(bookings != null);
assert(bttv != null);
assert(id != null);
assert(lat != null);
assert(lon!=null);
assert(max_b != null);
assert(min_b != null);
assert(name != null);
assert(img != null);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="5d253813-823d-459e-8621-87d32aae3c44" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Get_All_Destinations_By_Category" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given TT-Mobile token for all categories is generated" id="3ac6832b-5a0d-4292-b184-4e7764657d6e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/trip_types/all_categories.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>tw5U6WZlXSvlz9nOnQTuybIgV3LHsuxl1tnDWYmzUeE=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user explored all categories to select the category" id="c57d9722-c259-406f-978e-8f1aa81f1871"><con:settings/><con:config service="ALL_CATEGORIES" resourcePath="/api/{api_version}/trip_types/all_categories.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user explored all categories to select the category" id="e77b538c-145b-4012-9b1a-22cc4b8d040d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given TT-Mobile token for all categories is generated#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/trip_types/all_categories.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dc60dbaa-729f-4b96-80e0-e63e2dac3eb2" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="beac7a6f-2b8e-40d9-8d69-8afeb6b7dc8f" name="Get the random category"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

int total_categories = json_response_holder.id.size();
Random rand = new Random();
int randomindex = rand.nextInt((total_categories - 0) + 1) + 0;

// Get the details of random category.
String agents = json_response_holder.agents[randomindex].toString();
String destination_count = json_response_holder.destination_count[randomindex].toString();
String id = json_response_holder.id[randomindex].toString();
String name = json_response_holder.name[randomindex];
String cloud_image_id = json_response_holder.cloud_images[randomindex].id[0].toString();
String cloud_image_url = json_response_holder.cloud_images[randomindex].large_image_url[0];

messageExchange.modelItem.testCase.setPropertyValue("agents",agents);
messageExchange.modelItem.testCase.setPropertyValue("destination_count",destination_count);
messageExchange.modelItem.testCase.setPropertyValue("id",id);
messageExchange.modelItem.testCase.setPropertyValue("name",name);
messageExchange.modelItem.testCase.setPropertyValue("cloud_image_id",cloud_image_id);
messageExchange.modelItem.testCase.setPropertyValue("cloud_image_url",cloud_image_url);

</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And when TT-MObile toekn for get destination by category is generated" id="61a7c265-85e1-4ac5-92c1-d53715a6c27d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/trip_types/${#TestCase#id}/all_destinations.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>KZBWVjgx7e7DPVH9uWcZEQTvhzEn69e1eFM+CM+6U1s=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then destinations by category is explored" id="55cae74e-268b-4ead-b18b-cf97b6353fd1"><con:settings/><con:config service="AllDestinationsByCategory" resourcePath="/api/v1/trip_types/{category_id}/all_destinations.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then destinations by category is explored" id="dfc00f51-db2d-4181-8022-b778d04b22b9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${And when TT-MObile toekn for get destination by category is generated#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/trip_types/category_id/all_destinations.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="688f8760-bc1c-401c-8a6b-374a4d7db0a7" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="1b6e5214-af85-4bd3-ab60-129d9dfa6b86" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);


// verify the total destination loaded for a category.
int expected_destinations = Integer.parseInt(context.expand('${#TestCase#destination_count}'));
int actual_destinations_loaded = json_response_holder.id.size();

assert(actual_destinations_loaded == expected_destinations);
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="category_id" value="${#TestCase#id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>agents</con:name><con:value>909</con:value></con:property><con:property><con:name>destination_count</con:name><con:value>50</con:value></con:property><con:property><con:name>id</con:name><con:value>4</con:value></con:property><con:property><con:name>name</con:name><con:value>Family</con:value></con:property><con:property><con:name>cloud_image_id</con:name><con:value>2</con:value></con:property><con:property><con:name>cloud_image_url</con:name><con:value>https://res.cloudinary.com/dxqin8fbx/image/fetch/f_auto,q_auto:eco,w_630/http://decj8puvz80hr.cloudfront.net/attachments/cloud_images/cloud_images/2/original/o-FAMILY-VACATION-BEACH-facebook.jpg</con:value></con:property></con:properties></con:testCase><con:testCase id="6727a625-397f-4bd3-ac5b-2982a56c4a34" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Get_All_Destinations_By_Theme" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given TT-Mobile token is generated for all themes" id="9c2d68f5-24fa-4269-bbf4-05842956465e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/themes/all_themes.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>YV198JPkpYtmyNHmIr9k3HJ8Ip+ONirs98fuWoH2M9M=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then all themes are explored successfully" id="934c94fb-10c2-4d56-b117-fe53da189855"><con:settings/><con:config service="ALL_THEMES" resourcePath="/api/{api_version}/themes/all_themes.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then all themes are explored successfully" id="46d28c9a-9d2c-449a-8e05-13548d907d93" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given TT-Mobile token is generated for all themes#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/themes/all_themes.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4aeb77a9-64d8-41a3-a248-79ea4f70f861" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="cabf5459-1531-40e9-bae7-1ee31fd06c21" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);


int total_themes = json_response_holder.id.size();
Random rand = new Random();

// verify total themes loaded should not be ZERO!
assert(total_themes != 0);


//Get the details of random theme.
int randomindex = rand.nextInt((total_themes - 0) + 1) + 0;
String id = json_response_holder.id[randomindex].toString()
String name = json_response_holder.name[randomindex];
String large_image = json_response_holder.large_image[randomindex];

messageExchange.modelItem.testCase.setPropertyValue("id",id);
messageExchange.modelItem.testCase.setPropertyValue("name",name);
messageExchange.modelItem.testCase.setPropertyValue("large_image",large_image);





</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="When TT-Mobile token is generated for all detination by theme" id="2d95569c-625b-4b3d-acc2-cffdc9d07ce5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/themes/${#TestCase#id}/all_destinations</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>41yAbiPrh/q5Q7d+o8bVVmXIpJ/ZRBFVIpzJk3KNqCU=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get all destinations by theme" id="e56b77b0-a621-4bcd-a190-4919ae96ab04"><con:settings/><con:config service="AllDestinationsByTheme" resourcePath="/api/{api_version}/themes/{theme_id}/all_destinations" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get all destinations by theme" id="27a8e01d-34a1-4ec4-be65-1aa3c6484e89" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${When TT-Mobile token is generated for all detination by theme#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/themes/theme_id/all_destinations</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="186452b6-e7a1-4e68-9e2c-0a566c377b53" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e388da67-9609-467f-a058-80442554b21a" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

log.info json_response_holder.id.size();</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="theme_id" value="${#TestCase#id}"/>
  <con:entry key="api_version" value="v1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>id</con:name><con:value>4</con:value></con:property><con:property><con:name>name</con:name><con:value>Amazing Hill Holiday Destinations</con:value></con:property><con:property><con:name>large_image</con:name><con:value>https://res.cloudinary.com/dxqin8fbx/image/fetch/f_auto,q_auto:eco,w_630/http://decj8puvz80hr.cloudfront.net/attachments/themes/4/original/image_4.jpeg</con:value></con:property></con:properties></con:testCase><con:testCase id="1f3dd7c3-ffc0-424f-800f-572e48b4e2da" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="LoggedInUser_get_the_BookedOrConvertedQuotes" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user logged in to application" id="803106bb-5290-4163-b96c-2e40dd35e093"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>635803</con:value></con:property><con:property><con:name>auth_key</con:name></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWE2ZjgwY2UyYWViYjUzMWU3MDJlOWE5NmVkZmNhNTIzBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--250508d3d7ce151bd85be182e08d4a50d2b644f7; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And when TT-Mobile token for get converted quotes is generated" id="492c8439-cd31-4133-b3e5-f117315fa4c6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/quotes/get_booked_or_converted_quotes.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>0DqlHrp+IySa4E6nCdsZCOpck4moOsss3jFpXCUj0Mg=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user is able to explore the booked and converted quotes" id="83316f04-1e1c-46ff-95e1-494b2a530b70"><con:settings/><con:config service="GetBookedOrConvertedQuotes" resourcePath="/api/{apiversion}/quotes/get_booked_or_converted_quotes.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user is able to explore the booked and converted quotes" id="a5e05bb1-49bb-475e-87a8-c6790196afa1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user logged in to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And when TT-Mobile token for get converted quotes is generated#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/quotes/get_booked_or_converted_quotes.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d35fe841-9a62-45a0-805a-2e3074454d83" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="apiversion" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="1abbce3c-7bfc-490e-9aed-57a99a071c87" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="LoggedInUser_Get_All_Requested_TripData" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user logged into application" id="14d4faf6-66f0-4d2c-8bd2-2b64c681217e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>635803</con:value></con:property><con:property><con:name>auth_key</con:name></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTNkNmU2ZmU5MWE0ZmQ1MzQxY2VjOTU4ZmUwYzQ0OTU2BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--91d54949fb066084e043cc5421cdb9f04c1283a0; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="When TT-Mobile to get all requested trip data is generated" id="bcab301b-d2d1-4fa7-99f7-55fce5f2b9e3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/requested_trips/all_trips_user.json?all_trip_data=false&amp;currency=Dollar</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>1xP1+TXw9nHBT0HvKtuYdn1WtirJtd3G8uGUaQGN7qg=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can explore all requested trip data" id="312e35b5-7c65-4ca5-8435-edec849d7977"><con:settings/><con:config service="AllRequestedTripData" resourcePath="/api/{api_version}/requested_trips/all_trips_user.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can explore all requested trip data" id="f6ad2b15-1fdc-4ebf-b337-e16af55dc48a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user logged into application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${When TT-Mobile to get all requested trip data is generated#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/requested_trips/all_trips_user.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c7db4a17-14ad-4776-9c4b-796df20145ed" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b76c91ee-5dee-4a7b-97a5-b750bfb7cb84" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);


try{
String firstTripID = json_response_holder.id[0].toString();
messageExchange.modelItem.testCase.setPropertyValue("trip_id",firstTripID);
}
catch(Exception e){
	assert false : "No trip for user";
}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And when TT-Mobile token for single requested trip data is generated" id="90f15c2c-6fb3-4ab2-9126-74ead729665f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/requested_trips/${#TestCase#trip_id}.json?include_quotes=false&amp;currency=Dollar</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>nxhqzFbXK2IRiD/8+eXUHzBWYLbNyqXlblqMucp6jN0=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can explore single requested trip data" id="363863b5-b9fe-44d9-b82b-0c20f9e107cb"><con:settings/><con:config service="GetSingleRequestedTrip" resourcePath="/api/v2/requested_trips/{requested_trip_id}.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can explore single requested trip data" id="afa80f63-d378-4a35-80d1-234322ba1e8e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user logged into application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And when TT-Mobile token for single requested trip data is generated#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/requested_trips/requested_trip_id.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="cb7a5032-1ac8-4edc-972a-fb47eee7303a" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="requested_trip_id" value="${#TestCase#trip_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>trip_id</con:name><con:value>946233</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="c0a4f28e-09db-40a0-9eb7-e950e53645d2" name="SearchAndFilter"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="e16f63cb-6779-4125-bd01-e7ca8cac56d4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Search_for_a_trip" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="User navigate to Search tab" id="f11766cf-298e-4e72-9f45-0a3ec1679dae"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d6e38075-ad8f-4890-9379-2f1cb755b34d</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And gets the TT-Mobile token for  filtered search results" id="ebc7fc17-aedc-445c-ac17-673dd781d3b7"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?days=${#TestCase#number_of_days}&amp;trip_type=${#TestCase#trip_type}&amp;category=${#TestCase#trip_category}&amp;result_type=${#TestCase#result_type}&amp;price_ranges=${#TestCase#price_ranges}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>utlhYods7vSE3pI9j6uFJ+vs0lII5Xr5ZNTRcffUTb0=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And get the search results for specified inputs" id="3f38fc0b-a8a1-4d80-a96f-e3ebf9f9ff01"><con:settings/><con:config service="Get Filtered Results" resourcePath="/api/{api_version}/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And get the search results for specified inputs" id="7a30ee31-8127-4cf9-86b0-97240048dfba" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${And gets the TT-Mobile token for  filtered search results#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="253118d6-9772-45f6-b4d8-599a82dd3dde" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c91c111f-0f46-433f-826d-6986bb82142a" name="Verify Search Data"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String result_type = json_response_holder.result_type;

assert(result_type == "destination_catalog");

def min_budget = json_response_holder.destinations.min_b;

String price_range = context.expand('${#TestCase#price_ranges}');
Long min_range = Long.parseLong(price_range.split('-')[0]);
Long max_range = Long.parseLong(price_range.split('-')[1]);

for(def min_b in min_budget){
	assert(min_b >= min_range &amp;&amp; min_b &lt;= max_range);
}


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="result_type" value="${#TestCase#result_type}"/>
  <con:entry key="category" value="${#TestCase#trip_category}"/>
  <con:entry key="days" value="${#TestCase#number_of_days}"/>
  <con:entry key="trip_type" value="${#TestCase#trip_type}"/>
  <con:entry key="price_ranges" value="${#TestCase#price_ranges}"/>
  <con:entry key="api_version" value="v4"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>number_of_days</con:name><con:value>4-6</con:value></con:property><con:property><con:name>trip_type</con:name><con:value>2</con:value></con:property><con:property><con:name>trip_category</con:name><con:value>family</con:value></con:property><con:property><con:name>result_type</con:name><con:value>all</con:value></con:property><con:property><con:name>price_ranges</con:name><con:value>40000-60000</con:value></con:property></con:properties></con:testCase><con:testCase id="ddb23050-2347-4d64-b914-2dfbbacd5b90" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Sort_The_Destinations_ByPriceLowToHigh" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user get the TT-Mobile token for sort" id="212f6ca3-0bb1-46bc-9403-b48fb32bac10"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?per_page=50&amp;result_type=destination_catalog&amp;page_number=1&amp;sort_by=price_l-h</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>vbOsplmPSTXpTR8y3vaEZ8IY49KnxKD1wUrKhrYsgSI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can sort the destination catalog by price low to high" id="15cb900a-a274-4b98-a49c-c02e66496b37"><con:settings/><con:config service="FilterDestinationsCatalogSearchResults" resourcePath="/api/v4/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can sort the destination catalog by price low to high" id="0684b8d0-f7d7-4119-899a-d47c06780a8f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given user get the TT-Mobile token for sort#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="16032cd7-c23d-400b-872a-786f0311e114" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="bffe08a5-943e-4d89-a464-2cd8de10cf1c" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String result_type = json_response_holder.result_type;
assert(result_type == "destination_catalog");

//verify the price is sorted 
Long[] min_b = json_response_holder.destinations.min_b;

int destinations = json_response_holder.destinations.id.size();
for(int i=1;i &lt; destinations;i++){
	if(min_b[i-1]  > min_b[i]){
		assert(false) : "price for " + i + " destination is " + min_b[i-1] + " and price for " + (i+1) + " destination is " + min_b[i]; 
		break;
	}
}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="months" value=""/>
  <con:entry key="days" value=""/>
  <con:entry key="sort_by" value="price_l-h"/>
  <con:entry key="price_ranges" value=""/>
  <con:entry key="destination_type" value=""/>
  <con:entry key="activity" value=""/>
</con:parameters><con:parameterOrder><con:entry>days</con:entry><con:entry>per_page</con:entry><con:entry>result_type</con:entry><con:entry>activity</con:entry><con:entry>page_number</con:entry><con:entry>months</con:entry><con:entry>price_ranges</con:entry><con:entry>destination_type</con:entry><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7ceda876-d490-45f0-b0f7-36eb91278ba4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Sort_The_Destinations_ByPriceHighToLow" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user get the TT-Mobile token for sort" id="5125e4e9-d178-4d98-93b6-8b54805d2478"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?per_page=50&amp;result_type=destination_catalog&amp;page_number=1&amp;sort_by=price_h-l</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>vKRmildBSz3lLTWAarYZAD2aJOoPzGNnGBoxvGdm3Wc=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can sort the destination catalog by price high to low" id="c03cc7c2-807d-4a9d-b782-249f18222f36"><con:settings/><con:config service="FilterDestinationsCatalogSearchResults" resourcePath="/api/v4/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can sort the destination catalog by price high to low" id="0684b8d0-f7d7-4119-899a-d47c06780a8f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given user get the TT-Mobile token for sort#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="16032cd7-c23d-400b-872a-786f0311e114" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="bffe08a5-943e-4d89-a464-2cd8de10cf1c" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String result_type = json_response_holder.result_type;
assert(result_type == "destination_catalog");

//verify the price is sorted 
Long[] min_b = json_response_holder.destinations.min_b;

int destinations = json_response_holder.destinations.id.size();
for(int i=1;i &lt; destinations;i++){
	if(min_b[i-1] &lt; min_b[i]){
		assert(false) : "price for " + i + " destination is " + min_b[i-1] + " and price for " + (i+1) + " destination is " + min_b[i]; 
		break;
	}
}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="months" value=""/>
  <con:entry key="days" value=""/>
  <con:entry key="sort_by" value="price_h-l"/>
  <con:entry key="price_ranges" value=""/>
  <con:entry key="destination_type" value=""/>
  <con:entry key="activity" value=""/>
</con:parameters><con:parameterOrder><con:entry>days</con:entry><con:entry>per_page</con:entry><con:entry>result_type</con:entry><con:entry>activity</con:entry><con:entry>page_number</con:entry><con:entry>months</con:entry><con:entry>price_ranges</con:entry><con:entry>destination_type</con:entry><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="a5affa82-ccfa-49ea-a05e-7a7e69ee3ae7" name="Request_A_Quote"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="9e6946b2-0cce-4ca3-b18f-fb7bd016bb95" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase1" searchProperties="true" disabled="true"><con:settings/><con:testStep type="calltestcase" name="Given user login to application" id="475a0a49-0667-4e75-9f3f-1c6aa51c12c9"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>d7a1619274ea11e6a9e10a213af2e147</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFVEkiJWU5ZWVjMWYwYTExNzI5NTE4ZDY5Y2QwNzE2YTk4MzZlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--28c62fbf230045c087a8dde0f965b72aa83b9ab2; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>auth_key</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And get the hash token" id="2f92e4b3-1344-4216-acfd-4487cce8432b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/destinations/hot_destination_list.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>Reci/Qwu4ytkb+Ee8viokSHUf9r8MImpH1KNgQUorFI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And get all hot destinations to travel" id="90b2c76a-32c7-4ea5-b72a-d4e7222a53b8"><con:settings/><con:config service="GetAllHOTDestinations" resourcePath="/api/{api_version}/destinations/hot_destination_list.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And get all hot destinations to travel" id="395d5b54-e258-457a-bd30-b9a40fa6c672" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="User-Agent" value="TravelTriangle"/>
  <con:entry key="TT-Mobile" value="${And get the hash token#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v1/destinations/hot_destination_list.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="698ed767-8499-454c-9d97-cc48dc2ce753" name="Success status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d8369f6-d14b-4bbb-af71-e5c3dc2a5b9e" name="Select the random destination"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def destination_ids = json_response_holder.data.id;

int total_destinations = destination_ids.size();

//Get the random destination.
Random rand = new Random();
int randomindex = rand.nextInt((total_destinations - 0) + 1) + 0;

String selected_destination_name = json_response_holder.data.name[randomindex];

String selected_destination_id = destination_ids.get(randomindex).toString();

messageExchange.modelItem.testCase.setPropertyValue("selected_destination_name",selected_destination_name);
messageExchange.modelItem.testCase.setPropertyValue("selected_destination_id",selected_destination_id);


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again get the hash token" id="d9f8a2eb-3c07-47cf-89d2-b1128504f73c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?result_type=package_catalog&amp;destination=${#TestCase#selected_destination_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>sTphZDTzYxyc+fXHsOLtYfcSzMGD/1w87PYENZPYr/Q=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the filtered list for the destination selected" id="f813a3f3-7640-4263-b42a-884420c75669"><con:settings/><con:config service="GetFilteredResultsForDestination" resourcePath="/api/v4/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the filtered list for the destination selected" id="a50b2aaf-57c9-4b82-8e15-0a5d72b68704" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Again get the hash token#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="96b9f461-25ed-4d0f-8bab-429614cbbca2" name="Success status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="96c696d8-81ca-4b47-81ee-ba1b8ffabc4f" name="Get the package details"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

assert (json_response_holder.result_type == "package_catalog");
String destination = context.expand('${#TestCase#selected_destination_name}');
int total_packages = json_response_holder.total_entries;
assert(total_packages != 0): "No packages available for destination - '" + destination +"'";

int total_package_displayed = json_response_holder.packages.id.size();
//Get the random package.
Random rand = new Random();
int randomindex = rand.nextInt((total_package_displayed - 0) + 1) + 0;
log.info randomindex;
String selected_package_id = json_response_holder.packages.id[randomindex].toString();
String selected_package_days = json_response_holder.packages.days[randomindex].toString();
String selected_package_nights = json_response_holder.packages.nights[randomindex].toString();
String selected_package_cities = json_response_holder.packages.cities[randomindex].toString();
String selected_package_name = json_response_holder.packages.name[randomindex].toString();
String selected_package_price_total = json_response_holder.packages.price_total[randomindex].toString();
String package_heading = json_response_holder.packages.set_url[randomindex].toString().toLowerCase();
messageExchange.modelItem.testCase.setPropertyValue("selected_package_id",selected_package_id);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_name",selected_package_name);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_price_total",selected_package_price_total);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_headline",package_heading);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_days",selected_package_days);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_nights",selected_package_nights);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_cities",selected_package_cities);

//Assert inclusion should never be empty.

String inclusions = json_response_holder.packages.inclusions.key;
assert(inclusions.size() != 0);

</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destination" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again get the hash" id="6c40f108-36db-4394-adc2-ef43aef988fe"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/${#TestCase#selected_destination_id}/destination_attraction_list.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>ImiOF42IA7owry+lvST6C63QYxBCOaHT8gVjzsUsOwI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get Attaractions for the destination" id="04a5d8d1-5bea-4d37-9b91-b1f3430a9487"><con:settings/><con:config service="AttaractionListsByDestination" resourcePath="/api/v2/destinations/{destination_id}/destination_attraction_list.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Attaractions for the destination" id="f3033d25-2f50-4916-98d3-7bce87e60748" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}}"/>
  &lt;con:entry key="TT-Mobile" value="${Again get the hash#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/destinations/67/destination_attraction_list.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destination_id" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>destination_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for hotel images" id="238a0058-0ec7-420f-8d31-7270ef0e3563"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/${#TestCase#selected_destination_id}/destination_hotel_images.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>+OC+xdpt3uW0q6EOXN+VxlgpN7znGRE10gf9Gs7Z8GU=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the hotel images for selected destination" id="db48df19-f607-4264-8487-64066d1b4cf2"><con:settings/><con:config service="DestinationHotelImages" resourcePath="/api/v2/destinations/{destinationId}/destination_hotel_images.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the hotel images for selected destination" id="f00ef24d-81e4-44a7-b43f-423ab7721729" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for hotel images#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/destination_hotel_images.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for testimonials" id="e689c921-1449-4e2a-a173-4b319b3bff82"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/destinations/${#TestCase#selected_destination_id}/destination_top_testimonials.json?page_number=1</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>HJjB97v2ilqI4fiBZ8yWQfsqgic1bS0jqlvjNL3roGA=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the testimonials for the destination" id="481d82d7-aae1-48eb-8b80-38ae785b54c4"><con:settings/><con:config service="DestinationTopTestimonials" resourcePath="/api/v1/destinations/{destinationId}/destination_top_testimonials.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the testimonials for the destination" id="4ab32d67-b8f7-43ae-8d19-713dbbbdee36" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for testimonials#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/destinations/67/destination_top_testimonials.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="destinationId" value="${#TestCase#selected_destination_id}"/>
  <con:entry key="page_number" value="1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for destination extend" id="655a4df4-9bf8-4314-973f-2b8f4e32a0ca"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/{destinationId}/get_destinations_extend.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>V2zYl+GhpjYmggTiL78kOrNyovE6L8DhRDfhN+bf/mk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the destination extends" id="b0400034-ee96-407d-8b14-3420720a7c76"><con:settings/><con:config service="GetDestinationExtend" resourcePath="/api/v2/destinations/{destinationId}/get_destinations_extend.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the destination extends" id="0f32e8ff-1fc9-42c2-8ca5-ee7167455128" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for destination extend#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/get_destinations_extend.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key to view package details" id="a426099e-0753-4fc0-8095-88573f414e7a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://traveler-api.ttdev.in/api/v3/tour_packages/${#TestCase#selected_package_headline}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>4QPo0ZpsnPXx43gzZel94QCaPHx8JGf6vZwNY8s5pzw=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Select and view the package" id="097ba6ac-d79f-4933-9afc-b5cbd7dcea69"><con:settings/><con:config service="ViewPackage" resourcePath="/api/v3/tour_packages/{package_headline}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Select and view the package" id="fccd7a70-c8f4-439c-ba58-8d6378c7da35" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key to view package details#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/tour_packages/package_headline</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1a7e6895-5a68-47d4-9f80-5142ab01fd30" name="Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="5a1eff6c-9738-454c-b98c-b2fc5c6acb27" name="Verify &amp; Get the package details"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

int inclusions = json_response_holder.inclusions.key.size();

assert(inclusions != 0);

String selected_package_id = context.expand('${#TestCase#selected_package_id}');
String package_id_in_response = json_response_holder.id.toString();
assert(selected_package_id == package_id_in_response);


Float selected_package_price_total = Float.parseFloat(context.expand('${#TestCase#selected_package_price_total}'));
Float package_total_price = json_response_holder.price_total;

assert(selected_package_price_total == package_total_price);

String selected_package_cities = context.expand('${#TestCase#selected_package_cities}').toLowerCase();
String package_cities = json_response_holder.cities.toLowerCase();

assert(selected_package_cities == package_cities);

String destinations = json_response_holder.destinations.id.toString();
String destination_names = json_response_holder.destinations.name.toString();
destinations = destinations.replace("[","");
destinations = destinations.replace("]","");
destinations = destinations.replace(" ","");
String destination_encoded = destinations.replaceAll(",","%2C");
messageExchange.modelItem.testCase.setPropertyValue("destinations",destinations);
messageExchange.modelItem.testCase.setPropertyValue("destinations_encoded",destination_encoded);

destination_names = destination_names.replace("[","");
destination_names = destination_names.replace("]","");
destination_names = destination_names.replace(" ","");
messageExchange.modelItem.testCase.setPropertyValue("destination_names",destination_names);


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="package_headline" value="${#TestCase#selected_package_headline}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key to generate form 1" id="54818456-be0a-4edf-83d4-d5e9fa78d9db"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips/new.json?destination_ids%5B%5D=${#TestCase#destinations_encoded}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>N8J9hTqtG66AKM2QRloi2HRggCjmjgw1qNxNGjEJTLA=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Load the form 1 with pre populated data" id="6f0afa23-9065-4ac9-b6e4-f57e083d0ac9"><con:settings/><con:config service="NewRequestForm1" resourcePath="/api/v1/requested_trips/new.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Load the form 1 with pre populated data" id="196f7986-e711-407a-99fc-68aac4c6148a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key to generate form 1#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips/new.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destination_ids[]" value="${#TestCase#destinations}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for new request" id="081314f9-bfab-4a27-b156-6dee6a818edf"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>sHZ0s4bfjVNmVgQcCFK8A8RHn1haKBBLNDN/9c2xETM=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Submit a Request" id="2c5359d5-8f13-4a5b-be5e-2277cc6245fb"><con:settings/><con:config service="NewRequestedTrips" resourcePath="/api/v1/requested_trips" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit a Request" id="4a456b39-a76e-4c09-a86d-280850ef8cf4" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for new request#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","email":"${#Project#user_email}","from_complete":"Uttar Pradesh,India","from_loc":"Noida, India","usr_location":"Noida, India","phone_no":"","preferences":[],"start_date":"2016-08-26","to_loc":"${#TestCase#destination_names}","trip_days":"${#TestCase#selected_package_days}","trip_stage":"2"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0e16c55e-4dc3-4c63-b6da-0fe123db78e8" name="Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="6cacc325-96ed-4818-b1d2-53899cf40e18" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

assert(json_response_holder.success == true);

assert(json_response_holder.new_user == false);


String request_id = json_response_holder.id.toString();

messageExchange.modelItem.testCase.setPropertyValue("request_id",request_id);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key to create a new request" id="b68e764d-b432-4ae7-893e-9be533f2fb41"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips/${#TestCase#request_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>put</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>1VIj2e5BEaYD8RzdgeRiRQXqC42Yg03+uAA3w/wr8+s=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Create a request" id="21a045f7-a180-4cd5-9579-a10f41c0af52"><con:settings/><con:config service="CreateRequest" resourcePath="/api/v1/requested_trips/{request_id}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a request" id="77caa3a5-a5fa-4223-9f05-ae63ca901e91" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","adult":"2","child":"0","email":"${#Project#user_email}","from_complete":"United","from_loc":"Noida, India","usr_location":"United","preferences":[{"customization_id":2,"options":[{"name":"3 Star","id":8,"tags":"","val":[]}]},{"customization_id":43,"options":[{"name":"in this week","id":203,"tags":"","val":[]}]},{"customization_id":71,"options":[]},{"customization_id":29,"options":[]}],"start_date":"2016-08-27","to_loc":"Singapore","trip_days":"${#TestCase#selected_package_days}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips/request_id</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>selected_destination_name</con:name><con:value>Africa</con:value></con:property><con:property><con:name>selected_destination_id</con:name><con:value>145</con:value></con:property><con:property><con:name>selected_package_id</con:name><con:value>483</con:value></con:property><con:property><con:name>selected_package_name</con:name><con:value>Mauritius And Dubai Family Tour Package</con:value></con:property><con:property><con:name>selected_package_price_total</con:name><con:value>65500</con:value></con:property><con:property><con:name>selected_package_headline</con:name><con:value>9n-10d-mauritius-and-dubai-family-tour</con:value></con:property><con:property><con:name>selected_package_days</con:name><con:value>10</con:value></con:property><con:property><con:name>selected_package_nights</con:name><con:value>9</con:value></con:property><con:property><con:name>selected_package_cities</con:name><con:value>mauritius->dubai</con:value></con:property><con:property><con:name>destinations</con:name><con:value>68,151</con:value></con:property><con:property><con:name>destinations_encoded</con:name><con:value>68%2C151</con:value></con:property><con:property><con:name>destination_names</con:name><con:value>Mauritius,Dubai</con:value></con:property><con:property><con:name>request_id</con:name><con:value>953366</con:value></con:property></con:properties></con:testCase><con:testCase id="2040cc92-e9d4-4517-a063-39395e85cdb8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="LoggedIn_User_Request_A_Quote" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user login to application" id="89dd6d50-1e78-486b-a570-86d722abdc35"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>635803</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>fc8b882e799b11e6955a0a213af2e147</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTIyZTA4ZDEyMGY3NTI4ZWZhMjQxZGIzZWJhMGYyMTcxBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--a3acb82ca7b0bd4c9e8e544353df5ef25cbc393a; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>auth_key</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="When user get the TT-MObile token for app config" id="bf642e40-4134-4ea7-9e18-a91c806ffe5b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/app_config.json?user_id=${Given user login to application#user_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>q51ITw1mJAiRBUMIWYR+fdgCn8vX7LjHR13fgifnmbc=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then app config is loaded successfully for logged in user" id="9753bff5-a21d-456b-ab91-0d7088233024"><con:settings/><con:config service="AppConfig" resourcePath="/api/{api_version}/app_config.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then app config is loaded successfully for logged in user" id="8102f3b4-c7de-4700-a705-9a8e6737f51b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${When user get the TT-MObile token for app config#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/app_config.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dafe56dc-2501-4b29-a331-3c20bb19ebf5" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b2755ad2-c391-41a3-b86b-36a6e6a04a92" name="Verify response details"><con:configuration><scriptText>import groovy.json.JsonSlurper;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

//verify if all nodes are present
def is_coupon_enabled = json_response_holder.is_coupon_enabled;
def is_referer_enabled = json_response_holder.is_referer_enabled;
def isFabMenuEnabled = json_response_holder.isFabMenuEnabled;
def referral_text = json_response_holder.referral_text;
def referral_share_text = json_response_holder.referral_share_text;
def helpline = json_response_holder.helpline;
def discount_text = json_response_holder.discount_text;
def show_package_discount = json_response_holder.show_package_discount;

assert(is_coupon_enabled != null);
assert(is_referer_enabled != null);
assert(isFabMenuEnabled != null);
assert(referral_text != null);
assert(referral_share_text != null);
assert(helpline != null);
assert(discount_text != null);
assert(show_package_discount != null);


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="user_id" value="${Given user login to application#user_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And when user get the TT-Mobile token for destination catalog" id="83eade8b-4ce5-4f12-9955-e9d3155ed4a7"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=destination_catalog</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>gOkWXGJfLtYn0MMRGSzhF/ydUSRK4IFnH6EJXVhywZA=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then destination catalog is loaded successfully" id="1dd13e74-ec4c-4c19-b93e-05f53c0d8d3a"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then destination catalog is loaded successfully" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And when user get the TT-Mobile token for destination catalog#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="89a55593-a85e-40ec-a8d8-ec9e0f0472ba" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ceed6d1c-8a64-4112-8323-e673c7fd1db8" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String filter_type = json_response_holder.filter_type;
assert(filter_type == "destination_catalog");

String[] filter_titles = json_response_holder.filters.title;

int filter_count = filter_titles.size();
assert(filter_count == 7);

assert("Destination type" in filter_titles);

assert("Month of travel" in filter_titles);

assert("Activities" in filter_titles);

assert("Duration(days)" in filter_titles);

assert("Budget (per person)" in filter_titles);

assert("Trip Type" in filter_titles);

assert("" in filter_titles);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="filter_type" value="destination_catalog"/>
  <con:entry key="api_version" value="v3"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And TT-Mobile token for filtered result is fetched" id="2a757282-ce44-43c1-9a6c-ca24be00cb04"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value><![CDATA[http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?days=${#TestCase#number_of_days}&per_page=${#TestCase#per_page}&result_type=destination_catalog&activity=${#TestCase#activity_encoded}&page_number=1&months=${#TestCase#months_encoded}&price_ranges=${#TestCase#price_ranges_encoded}&destination_type=${#TestCase#destination_type}]]></con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>VEKrT7VXZ569H4J8LJvtBc/U5qR/TIG4YJceHCJnxeo=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user filter the search results to get appropriate destinations" id="3b22a528-5a70-4b66-9762-7cf1484e5c6f"><con:settings/><con:config service="FilterDestinationsCatalogSearchResults" resourcePath="/api/v4/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user filter the search results to get appropriate destinations" id="0684b8d0-f7d7-4119-899a-d47c06780a8f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And TT-Mobile token for filtered result is fetched#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2112e70d-164c-4a36-b6bd-73d0d1c450fd" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d0d52a1a-6970-4cdc-a198-7ac994eeed59" name="Script Assertion"><con:configuration><scriptText><![CDATA[import groovy.json.JsonSlurper;
import java.util.Random;
// Get the json response holder.
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

//verify the result type in response.
String result_type = json_response_holder.result_type;
assert(result_type == "destination_catalog");


//Verify if the budget in destination search result is in range specified by user. 

def min_budget = json_response_holder.destinations.min_b;
String price_ranges_given = context.expand('${#TestCase#price_ranges}');
String[] price_ranges = price_ranges_given.split(",");
int numberOfRanges = price_ranges.size();
Long min_range = Long.parseLong(price_ranges[0].split("-")[0]);
Long max_range = Long.parseLong(price_ranges[numberOfRanges-1].split("-")[1]);
for(def min_b in min_budget){
	assert(min_b >= min_range && min_b <= max_range);
}


int[] destination_ids = json_response_holder.destinations.id;
int total_destinations = destination_ids.size();

//verify if total number of destination diplayed per page is as specified(or in range)
int per_page_range = Integer.parseInt(context.expand('${#TestCase#per_page}'));
assert(total_destinations <= per_page_range && total_destinations != 0);


// Pick random destination from response to get into packages in next steps.

Random rand = new Random();
int randomindex = rand.nextInt((total_destinations - 0) + 1) + 0;
String random_destination_id = json_response_holder.destinations.id[randomindex].toString();
String random_destinationname = json_response_holder.destinations.name[randomindex];
messageExchange.modelItem.testCase.setPropertyValue("destination_id",random_destination_id);
messageExchange.modelItem.testCase.setPropertyValue("destination_name",random_destinationname);


]]></scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="per_page" value="${#TestCase#per_page}"/>
  <con:entry key="months" value="${#TestCase#months}"/>
  <con:entry key="days" value="${#TestCase#number_of_days}"/>
  <con:entry key="price_ranges" value="${#TestCase#price_ranges}"/>
  <con:entry key="destination_type" value="${#TestCase#destination_type}"/>
  <con:entry key="activity" value="${#TestCase#activity}"/>
</con:parameters><con:parameterOrder><con:entry>days</con:entry><con:entry>per_page</con:entry><con:entry>result_type</con:entry><con:entry>activity</con:entry><con:entry>page_number</con:entry><con:entry>months</con:entry><con:entry>price_ranges</con:entry><con:entry>destination_type</con:entry><con:entry>sort_by</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And when TT-Mobile token for package catalog is generated" id="9e58d09d-3d02-4e31-960a-eb9439f5a2b6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?result_type=package_catalog&amp;destination=${#TestCase#destination_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>Aj5X9mJsh7bEuxqgnUaMDqgqv1REMzz7gpBCp8t8lcY=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can select the package for a destination selected" id="44995975-00e2-4f3c-97a1-82cdaf0f0c60"><con:settings/><con:config service="PackageCatalogForADestination" resourcePath="/api/{api_version}/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can select the package for a destination selected" id="609a0f5f-2282-4432-bf9b-fa6f91d85efd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And when TT-Mobile token for package catalog is generated#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c418620c-0930-46e8-8665-1637907ebc5f" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4c4f49ff-534a-456e-9eec-4f5324c367ac" name="Verify &amp; Get package details"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;

// get the json response holder.
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);


//verfiy the result type in response
String result_type = json_response_holder.result_type;
assert(result_type == "package_catalog");


String destination_name = context.expand('${#TestCase#destination_name}');
//verify total packges displayed should not be zero. 
int total_packages = json_response_holder.packages.id.size();
assert(total_packages != 0) : "No packages for destination " + destination_name;

//Verify inclusions are there in response

for(int i = 0;i &lt; total_packages; i++){
int inclusion_count = json_response_holder.packages.inclusions[i].key.size();
assert(inclusion_count != 0) : "Inclusion is not there for " + (i+1) + " package.";
}

//Pick up random package to continue further.
Random rand = new Random();
int randomindex = rand.nextInt((total_packages - 0) + 1) + 0;

String selected_package_id = json_response_holder.packages.id[randomindex].toString();
String selected_package_days = json_response_holder.packages.days[randomindex].toString();
String selected_package_nights = json_response_holder.packages.nights[randomindex].toString();
String selected_package_cities = json_response_holder.packages.cities[randomindex].toString();
String selected_package_name = json_response_holder.packages.name[randomindex].toString();
String selected_package_price_total = json_response_holder.packages.price_total[randomindex].toString();
String package_heading = json_response_holder.packages.set_url[randomindex].toString().toLowerCase();
messageExchange.modelItem.testCase.setPropertyValue("selected_package_id",selected_package_id);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_name",selected_package_name);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_price_total",selected_package_price_total);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_headline",package_heading);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_days",selected_package_days);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_nights",selected_package_nights);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_cities",selected_package_cities);


// Also get the destinations from the package selected.

String destinations =  json_response_holder.packages.destinations[randomindex].id;
String destination_names = json_response_holder.packages.destinations[randomindex].name;
destinations = destinations.replaceAll(" ","");
destinations = destinations.replace("[","");
destinations = destinations.replaceAll("]","");
destination_names = destination_names.replaceAll(" ","");
destination_names = destination_names.replace("[","");
destination_names = destination_names.replaceAll("]","");
messageExchange.modelItem.testCase.setPropertyValue("destinations",destinations);
messageExchange.modelItem.testCase.setPropertyValue("destination_names",destination_names);

String destinations_encoded = destinations.replaceAll(",","%2C");
String destination_names_encoded = destination_names.replaceAll(",","%2C");
messageExchange.modelItem.testCase.setPropertyValue("destinations_encoded",destinations_encoded);
messageExchange.modelItem.testCase.setPropertyValue("destination_names_encoded",destination_names_encoded);








</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="api_version" value="v4"/>
  <con:entry key="destination" value="${#TestCase#destination_id}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And TT-Mobile token is fetched for package catalog filter" id="c1d8431a-d7f6-4f27-8138-d14607496ce8"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=package_catalog</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>JaIOLLAGfZt+Y186F9IT0X9WvXlgCquii8FHe/tzFT8=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And package catalog filters get loaded in background" id="c8337410-2659-4689-95ea-7e93272df65b"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And package catalog filters get loaded in background" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And TT-Mobile token is fetched for package catalog filter#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b1346a40-2687-413e-8080-95ef1e7d7398" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ee5f4dee-0162-47c2-b3a5-050cfd572b62" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String filter_type = json_response_holder.filter_type;

assert(filter_type == "package_catalog");

String[] filter_titles = json_response_holder.filters.title;

assert("Type of Destination" in filter_titles);
assert("Categories" in filter_titles);
assert("Duration(days)" in filter_titles);
assert("Budget perperson (In Rs.)" in filter_titles);
assert("Hotel Star Rating" in filter_titles);
assert("Activities" in filter_titles);
assert("" in filter_titles);


int number_of_filters = filter_titles.size();

for(int i = 0; i &lt; number_of_filters;i++){

if(filter_titles[i] == "Type of Destination"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 2);
	assert("India" in option_title);
	assert("International" in option_title);
}
else if(filter_titles[i] == "Categories"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 2);
	assert("Honeymoon" in option_title);
	assert("Family" in option_title);
}
else if(filter_titles[i] == "Duration(days)"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("1-3" in option_title);
	assert("4-6" in option_title);
	assert("7-9" in option_title);
	assert("10-12" in option_title);
	assert(">12" in option_title);
	
}
else if(filter_titles[i] == "Budget perperson (In Rs.)"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 8);
	assert("Below 10,000" in option_title);
	assert("10,000 - 20,000" in option_title);
	assert("20,000 - 40,000" in option_title);
	assert("40,000 - 60,000" in option_title);
	assert("60,000 - 80,000" in option_title);
	assert("80,000 - 1 Lac" in option_title);
	assert("1 Lac - 2 Lac" in option_title);
	assert("Above 2 Lac" in option_title);
}
else if(filter_titles[i] == "Hotel Star Rating"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 4);
	assert("5 Star" in option_title);
	assert("4 Star" in option_title);
	assert("3 Star" in option_title);
	assert("2 Star" in option_title);

}
else if(filter_titles[i] == "Activities"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("Adventure" in option_title);
	assert("Nature" in option_title);
	assert("Hill Station" in option_title);
	assert("Religious" in option_title);
	assert("Water Activities" in option_title);

}
else if(filter_titles[i] == ""){
	String[] option_title = json_response_holder.filters.options[i].title;
	String filter_name = json_response_holder.filters.param_name[i];
	assert(filter_name == "sort_by");
	
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("Popularity" in option_title);
	assert("Price: Low To High" in option_title);
	assert("Price: High To Low" in option_title);
	assert("Duration: Low To High" in option_title);
	assert("Duration: High To Low" in option_title);

}

	
}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="filter_type" value="package_catalog"/>
  <con:entry key="api_version" value="v3"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="When TT-Mobile for Request Form 1 is generated" id="57f56ed2-ce99-4c09-9f0a-e1854312e13a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips/new.json?destination_ids%5B%5D=${#TestCase#destinations_encoded}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>hGZZdqFseB12Hgdj31E/3hbRhc5/IHGoxx0l9hgyJEY=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can view and validate the request form 1" id="0ba70b30-d481-4dfa-ba26-da782525ead2"><con:settings/><con:config service="NewRequestForm1" resourcePath="/api/v1/requested_trips/new.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can view and validate the request form 1" id="196f7986-e711-407a-99fc-68aac4c6148a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${When TT-Mobile for Request Form 1 is generated#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips/new.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7e151948-6891-4065-bebb-97d324cac3b8" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d2ad5c04-da74-4b2b-a46b-77cb32c5f9f9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);


int total_customization = json_response_holder.preferences.customization.size();

//Verfiy the customization are there in response.

assert(total_customization != 0);

def cutomization_title = json_response_holder.preferences.customization.title;
</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="09742936-73fe-4fc4-a554-320814e6b83b" name="Get the start date"><con:configuration><scriptText>import java.util.Calendar;
import java.text.SimpleDateFormat;

Calendar cal = Calendar.getInstance();
cal.add(Calendar.DATE, 7);
SimpleDateFormat format1 = new SimpleDateFormat("yyyy-MM-dd");
String formatted = format1.format(cal.getTime());
messageExchange.modelItem.testCase.setPropertyValue("start_date",formatted);
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destination_ids[]" value="${#TestCase#destinations}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And TT-MObile for new request is generated" id="df79e829-49b1-4463-86c5-85055dd3901f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>qNafm82yapHXszPYUiRciBmbUDf5CexOBQ83mXDxDYk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user requests a trip" id="9b577be1-dfc0-4809-8c3e-5717aad087d3"><con:settings/><con:config service="NewRequestedTrips" resourcePath="/api/v1/requested_trips" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user requests a trip" id="4a456b39-a76e-4c09-a86d-280850ef8cf4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And TT-MObile for new request is generated#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","email":"${#Project#user_email}","from_complete":"United","from_loc":"","usr_location":"United","phone_no":"+912541369874","preferences":[],"start_date":"${#TestCase#start_date}","to_loc":"${#TestCase#destination_names}","trip_days":"${#TestCase#selected_package_days}","trip_stage":"3"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f91ea6d7-db88-4c79-ac5d-f753f69fb36c" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="65601cb1-7c58-4eae-a54b-ac309abaca97" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def status = json_response_holder.success;
assert(status == true);

//Get the request ID created.
String request_id = json_response_holder.id;
messageExchange.modelItem.testCase.setPropertyValue("RequestID",request_id);

//new_user must be false as this is logged in user.
assert(json_response_holder.new_user == false)

//Get the redirect url.
String redirect_url = json_response_holder.redirect_url;
messageExchange.modelItem.testCase.setPropertyValue("request_redirectUrl",redirect_url);


</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="551d958d-7a03-48d2-bc9f-165fa84654ef" name="Get the response Cookie"><con:configuration><scriptText>for(String cookie in messageExchange.getResponseHeaders()["Set-Cookie"]){
	if(cookie.contains("_trips3m_session")){
		messageExchange.modelItem.testCase.setPropertyValue("Cookie",cookie);
	}
}</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And TT-MObile for currency convertor is fetched" id="5ec4ebf6-c997-42b2-9bf1-08f17d1310fb"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/current_currency_rate.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>4pBUgHBCFnLjBnTJc6P71RmSHnjJZfqqe485CUKBjBc=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And currency convertor got loaded at the backend" id="b62818a3-749e-455c-8f85-35a197f8e32f"><con:settings/><con:config service="CurrencyConverter" resourcePath="/api/{api_version}/current_currency_rate.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And currency convertor got loaded at the backend" id="7a0e6a00-5c43-41ea-be57-14bd2ab5064e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And TT-MObile for currency convertor is fetched#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/current_currency_rate.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="26a34e58-b42c-453f-9609-31c10075ef69" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>number_of_days</con:name><con:value>10-12</con:value></con:property><con:property><con:name>per_page</con:name><con:value>60</con:value></con:property><con:property><con:name>activity</con:name><con:value>11,10,3</con:value></con:property><con:property><con:name>months</con:name><con:value>1-3,4-6,7-9,10-12</con:value></con:property><con:property><con:name>price_ranges</con:name><con:value>80000-100000,100000-200000</con:value></con:property><con:property><con:name>destination_type</con:name><con:value>international</con:value></con:property><con:property><con:name>activity_encoded</con:name><con:value>11%2C10%2C3</con:value></con:property><con:property><con:name>price_ranges_encoded</con:name><con:value>80000-100000%2C100000-200000</con:value></con:property><con:property><con:name>months_encoded</con:name><con:value>1-3%2C4-6%2C7-9%2C10-12</con:value></con:property><con:property><con:name>destination_id</con:name><con:value>154</con:value></con:property><con:property><con:name>destination_name</con:name><con:value>New Zealand</con:value></con:property><con:property><con:name>selected_package_id</con:name><con:value>988</con:value></con:property><con:property><con:name>selected_package_name</con:name><con:value>Fifteen Day Thrilling New Zealand Self Drive Tour Itinerary</con:value></con:property><con:property><con:name>selected_package_price_total</con:name><con:value>114000</con:value></con:property><con:property><con:name>selected_package_headline</con:name><con:value>14nights-15days-custom-new-zealand-self-drive-tour</con:value></con:property><con:property><con:name>selected_package_days</con:name><con:value>15</con:value></con:property><con:property><con:name>selected_package_nights</con:name><con:value>14</con:value></con:property><con:property><con:name>selected_package_cities</con:name><con:value/></con:property><con:property><con:name>destinations</con:name><con:value>154</con:value></con:property><con:property><con:name>destinations_encoded</con:name><con:value>154</con:value></con:property><con:property><con:name>destination_names</con:name><con:value>NewZealand</con:value></con:property><con:property><con:name>destination_names_encoded</con:name><con:value>NewZealand</con:value></con:property><con:property><con:name>start_date</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2016-09-20</con:value></con:property><con:property><con:name>RequestID</con:name><con:value>946240</con:value></con:property><con:property><con:name>request_redirectUrl</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">/requested_trips/946156-Jocker/customize</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CkkiD3Nlc3Npb25faWQGOgZFVEkiJTIyZTA4ZDEyMGY3NTI4ZWZhMjQxZGIzZWJhMGYyMTcxBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVEkiGGFsbG93X2N1c3RvbWl6YXRpb24GOwBGaQPsbw5JIgpmbGFzaAY7AFRvOiVBY3Rpb25EaXNwYXRjaDo6Rmxhc2g6OkZsYXNoSGFzaAk6CkB1c2VkbzoIU2V0BjoKQGhhc2h7ADoMQGNsb3NlZEY6DUBmbGFzaGVzewY6EnJ0cmlwX2NyZWF0ZWRUOglAbm93MA%3D%3D--a6f263697e8debf759236391b7a94e6ba74b91e5; path=/; HttpOnly</con:value></con:property></con:properties></con:testCase><con:testCase id="7739a2a6-f923-4f9b-8720-2f450f7287c8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="LoggedInUser_Request_More_Quotes" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user request a quote" id="fb0d6bbd-aeb9-4588-8dd6-87b30a60fe0d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>2040cc92-e9d4-4517-a063-39395e85cdb8</con:targetTestCase><con:properties><con:property><con:name>number_of_days</con:name><con:value>${#TestCase#number_of_days}</con:value></con:property><con:property><con:name>per_page</con:name><con:value>${#TestCase#per_page}</con:value></con:property><con:property><con:name>activity</con:name><con:value>${#TestCase#activity}</con:value></con:property><con:property><con:name>months</con:name><con:value>${#TestCase#months}</con:value></con:property><con:property><con:name>price_ranges</con:name><con:value>${#TestCase#price_ranges}</con:value></con:property><con:property><con:name>destination_type</con:name><con:value>${#TestCase#destination_type}</con:value></con:property><con:property><con:name>activity_encoded</con:name><con:value>${#TestCase#activity_encoded}</con:value></con:property><con:property><con:name>price_ranges_encoded</con:name><con:value>${#TestCase#price_ranges_encoded}</con:value></con:property><con:property><con:name>months_encoded</con:name><con:value>${#TestCase#months_encoded}</con:value></con:property><con:property><con:name>destination_id</con:name></con:property><con:property><con:name>destination_name</con:name></con:property><con:property><con:name>selected_package_id</con:name></con:property><con:property><con:name>selected_package_name</con:name></con:property><con:property><con:name>selected_package_price_total</con:name></con:property><con:property><con:name>selected_package_headline</con:name></con:property><con:property><con:name>selected_package_days</con:name></con:property><con:property><con:name>selected_package_nights</con:name></con:property><con:property><con:name>selected_package_cities</con:name></con:property><con:property><con:name>destinations</con:name></con:property><con:property><con:name>destinations_encoded</con:name></con:property><con:property><con:name>destination_names</con:name></con:property><con:property><con:name>destination_names_encoded</con:name></con:property><con:property><con:name>start_date</con:name></con:property><con:property><con:name>RequestID</con:name><con:value>946240</con:value></con:property><con:property><con:name>request_redirectUrl</con:name></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7CkkiD3Nlc3Npb25faWQGOgZFVEkiJTIyZTA4ZDEyMGY3NTI4ZWZhMjQxZGIzZWJhMGYyMTcxBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5uzCUkiIiQyYSQxMCRLQ1hrOHk1YWYuZGxITFIucUQwSFFlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVEkiGGFsbG93X2N1c3RvbWl6YXRpb24GOwBGaQPsbw5JIgpmbGFzaAY7AFRvOiVBY3Rpb25EaXNwYXRjaDo6Rmxhc2g6OkZsYXNoSGFzaAk6CkB1c2VkbzoIU2V0BjoKQGhhc2h7ADoMQGNsb3NlZEY6DUBmbGFzaGVzewY6EnJ0cmlwX2NyZWF0ZWRUOglAbm93MA%3D%3D--a6f263697e8debf759236391b7a94e6ba74b91e5; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>RequestID</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And when TT-Mobile token is generated for request more quotes" id="29d8853f-b21a-4a8e-b32b-8d28dd41684a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/requested_trips/${Given user request a quote#RequestID}/post_traveler_ask_new_quote.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>qNafm82yapHXszPYUiRciBmbUDf5CexOBQ83mXDxDYk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user can request more quote with reason 'Not Satisfied with hotels'" id="59db2725-ed09-4228-88ae-f3531a7b6d9c"><con:settings/><con:config service="RequestMoreQuote" resourcePath="/requested_trips/{requestID}/post_traveler_ask_new_quote.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user can request more quote with reason 'Not Satisfied with hotels'" id="2883f348-5a00-448a-a5ee-4dc0311fba0b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user request a quote#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And when TT-Mobile token is generated for request more quotes#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"feedback":1}</con:request><con:originalUri>http://traveler-api.ttdev.in/requested_trips/946156/post_traveler_ask_new_quote.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="02b826a8-9de6-48e4-9d6f-25d36e3f6990" name="HTTP Status 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="4534e56d-d1a8-4094-9fa5-36283de7ed15" name="Success"><con:configuration><token>success</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="01ceb539-c62b-419d-bf53-1931f8f7384b" name="True"><con:configuration><token>true</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="requestID" value="${Given user request a quote#RequestID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Then user can request more quote with 'Other' reason" id="093fd707-a789-43b3-89fd-c72c82e9173c"><con:settings/><con:config service="RequestMoreQuote" resourcePath="/requested_trips/{requestID}/post_traveler_ask_new_quote.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of Then user can request more quote with 'Other' reason" id="2883f348-5a00-448a-a5ee-4dc0311fba0b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user request a quote#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And when TT-Mobile token is generated for request more quotes#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"feedback":5,"other_reason":"need more customization in right seeing."}</con:request><con:originalUri>http://traveler-api.ttdev.in/requested_trips/946156/post_traveler_ask_new_quote.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="02b826a8-9de6-48e4-9d6f-25d36e3f6990" name="HTTP Status 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="4534e56d-d1a8-4094-9fa5-36283de7ed15" name="Success"><con:configuration><token>success</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="01ceb539-c62b-419d-bf53-1931f8f7384b" name="True"><con:configuration><token>true</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="requestID" value="${Given user request a quote#RequestID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>number_of_days</con:name><con:value>10-12</con:value></con:property><con:property><con:name>per_page</con:name><con:value>60</con:value></con:property><con:property><con:name>activity</con:name><con:value>11,10,3</con:value></con:property><con:property><con:name>months</con:name><con:value>1-3,4-6,7-9,10-12</con:value></con:property><con:property><con:name>price_ranges</con:name><con:value>80000-100000,100000-200000</con:value></con:property><con:property><con:name>destination_type</con:name><con:value>international</con:value></con:property><con:property><con:name>price_ranges_encoded</con:name><con:value>80000-100000%2C100000-200000</con:value></con:property><con:property><con:name>activity_encoded</con:name><con:value>11%2C10%2C3</con:value></con:property><con:property><con:name>months_encoded</con:name><con:value>1-3%2C4-6%2C7-9%2C10-12</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFVEkiJTc3OTMzMzg3MjViNjYwMGIxODgwZWE5YWUwODgwZTczBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--6177e66152d1de9d43ee94eb1d80e62c28744105; path=/; HttpOnly</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>execution_tag</con:name><con:value>regression</con:value></con:property><con:property><con:name>dbname</con:name><con:value/></con:property><con:property><con:name>traveler_apiendpoint</con:name><con:value>traveler-api.ttdev.in</con:value></con:property><con:property><con:name>user_email</con:name><con:value>jocker11@gmail.com</con:value></con:property><con:property><con:name>user_password</con:name><con:value>abc123</con:value></con:property><con:property><con:name>api_version</con:name><con:value>v2</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:beforeRunScript>import groovy.lang.Binding;
import groovy.util.GroovyScriptEngine;
import java.sql.DriverManager;
import java.sql.Connection;
import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import com.mongodb.MongoClient;
import com.mongodb.MongoClientURI;
import com.mongodb.client.MongoDatabase;

////////////////////// Functions /////////////////////////

def filterList(commaSperatedListContent){
	def list = commaSperatedListContent.split(",");
	def filteredList = [];
	list.each(){
	def entry = it.toLowerCase().replaceAll("^\\s+", "");
	entry = entry.trim();
	if(entry != ""){
	filteredList.add(entry);}	
	}
	return filteredList;
}

def customListCompare(list1,list2){
	//list1 is the list of tags that are given by user to execute.
	//list2 is the list of tags for specific test suite.
	boolean isRunnable = false;
	for(int l1 in 0 .. list1.size()-1)
	{
		def inputTag = list1.get(l1);		
		for(int l2 in 0 .. list2.size()-1){
			
			if(inputTag.toString() == list2.get(l2).toString()){
				isRunnable =  true;
				break;
			}
		}
		if(isRunnable){
			break;
		}
	}
	return isRunnable;
}
///////////////////// Function //////////////////////////////////////////////

log.info "Start execution";
def projDir = context.expand('${projectDir}')
try{
File propFile =new File(projDir + "/Configurations/" + project.getName() + "/" + project.getName() + ".properties");
log.info propFile;
boolean isDeleted = propFile.delete();
log.info isDeleted;
}
catch(Exception e){log.info e.getMessage();}



def execution_Tag = project.getPropertyValue("execution_tag");

log.info "Test Execution Base Tag : "+ execution_Tag;

//Fetch the tags to execute the required test suites.
def filteredTags = filterList(execution_Tag) ;

def Conf_input = "";

log.info "Reading the Configuration file.....";

try{

Conf_input = new File(projDir + "/Configurations/" + project.getName() + "/TestData.xml");

def parser = new XmlParser(); //Get XML Parser.

def Configuration = parser.parse(Conf_input);//Point parser to configration file.

context.Configuration = Configuration;

}
catch(Exception e){
		assert false : "Error in reading configuration file -- " + e.getMessage();
}

def testSuiteListToExecute = [];

log.info "Fetching Test-Scenarios to execute....";

def testSuites = project.getTestSuiteList();

//Enable all TestSuites.
for(j in 0 .. testSuites.size()-1){
	//log.info testSuites.get(j).getName();
	testSuites.get(j).setDisabled(false); 
}
//Decide which test suites to execute and eventually disabled the non-relevant test suites.
		for(i in 0 .. testSuites.size()-1) {
   			def testSuiteName = testSuites.get(i).getName();
   			def tags = context.Configuration.TestSuite."${testSuiteName}".tags.text()
   			def testSuiteTags = filterList(tags);
   			   			
   			if(filteredTags == null || filteredTags.empty){
   				break;
   			}
   			else{
   				if(testSuiteTags == null || testSuiteTags.empty){
   					testSuites.get(i).setDisabled(true);
   				}
   				else{
   					def isRunnable = customListCompare(filteredTags,testSuiteTags);
   					log.info testSuiteName+":::"+isRunnable
   					if(!isRunnable){
   						testSuites.get(i).setDisabled(true);
   					}
   				}
   			}
   			
		}


// Load Databases.
log.info"Loading Databases........";

int index = 1;

String[] db_Names = project.getPropertyValue("dbname").split(",");

for(String db_Name in db_Names){

db_Name = db_Name.trim();

if(db_Name == ""){break;}

context.dbName = db_Name;

String dbConnectionString = "";

String dbDriver = "";

String dbType = "";

try{
	String databaseCollectionFile_Location = projDir + "/Configurations/" + project.getName() + "/DataBases.csv";
	
	BufferedReader reader = new BufferedReader(new FileReader(databaseCollectionFile_Location));
	
	String lineInFile = reader.readLine();
		
		while(lineInFile != null){
		
		String[] lineContents = lineInFile.split(",");
		
		if(lineContents[0] == context.dbName){
			dbType = lineContents[1]
			dbDriver = lineContents[2];
			dbConnectionString = lineContents[3];
			break;
		}
		lineInFile = reader.readLine();
		}
}
catch(Exception e){
	log.info "Couldn't load database from 'Databases' repo.Please review the file again!!" + e.getMessage();
}
context.dbDriver = dbDriver

context.dbConnectionString = dbConnectionString

log.info "Connecting to : [" + context.dbName + "] ................";

log.info "DB Connection String --" + dbConnectionString;

if(dbType.toLowerCase().contains("mongo")){
	try{
	MongoClient mongoClient = new MongoClient(new MongoClientURI(context.dbConnectionString));
   	
     context.dbConnection = mongoClient;
	if(context.mongoConnection == null){
     context.mongoConnection = mongoClient;}
     else{
     	String mongoConnectionString = "mongoConnection" + index;
     	log.info mongoConnectionString;
     	context."${mongoConnectionString}" = mongoClient;
     }
	}
	catch(Exception e){
		runner.fail("Couldn't connect to application DB -- " + context.dbName + " " + e.getMessage());
	}
}
else if(dbType.toLowerCase().contains("mysql")){
	if(context.dbName != "" &amp;&amp; context.dbName != null){
	try{
		com.eviware.soapui.support.GroovyUtils.registerJdbcDriver(context.dbDriver )
		
		def connection = DriverManager.getConnection(context.dbConnectionString);
		context.dbConnection = connection;
		if(context.mysqlConnection == null){
     		context.mysqlConnection = connection;}
     	else{
     		String mysqlConnectionString = "mysqlConnection" + index;
     		context."${mysqlConnectionString}" = connection;
    		 }
		context.statement = connection.createStatement();
	}
	catch(Exception e){
			runner.fail("Couldn't connect to application DB -- " + context.dbName + " " + e.getMessage());	
	}
}
}
index++;
}
log.info "Loading utilities......";
//create an instance of generic utilities.
try{
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
String path = projDir + "/ext/";

GroovyScriptEngine gse = new GroovyScriptEngine(path) ;
externalScript = gse.loadScriptByName("Utilities.groovy")
instance = externalScript.newInstance()
context.utility = instance ; 
}
catch(Exception e){
	log.info "Unable to initialize framework utility, error being -- " + e.getMessage();
}

log.info"Preparing test data ..............";

context.Configuration.children().each{
	if(it.name() == "TestSuite"){
		it.children().each{
	String testSuiteNameInConf = it.name();
	
	it.children().each{
		if(it.name() != "tags"){			
			String testCaseNameInConf = it.name();
			
			it.children().each{
				try{
					//log.info testSuiteNameInConf+":::"+testCaseNameInConf+":::"+it.name()+":::"+it.text()
					project.getTestSuiteByName(testSuiteNameInConf).getTestCaseByName(testCaseNameInConf).setPropertyValue(it.name(), it.text());
					}
				catch(Exception e){ }
			}
		}
	}
}
}
}</con:beforeRunScript><con:afterRunScript>import com.eviware.soapui.model.testsuite.TestSuiteRunner;
import com.eviware.soapui.model.testsuite.TestCaseRunner;
import com.eviware.soapui.model.testsuite.TestRunner.Status;

def projDir = context.expand('${projectDir}')
// Get the Execution tag.
String executiontag = project.getPropertyValue("execution_tag");

//Start Time
def projectstartTime = new Date(runner.getStartTime());

//Time Taken
def pr_timeTaken = runner.getTimeTaken();

int testcasespassed = 0;
int testcasesfailed = 0;
int testcasesexecuted = 0;
List&lt;String> testCaseNameFailed = new ArrayList&lt;String>();
//Number Of test cases passed/failed/didn't run.
def List&lt;TestSuiteRunner> testSuiteRunners = runner.getResults()

for(TestSuiteRunner suiterunner in testSuiteRunners){
	String testSuiteName = suiterunner.getTestSuite().getName();
	List&lt;TestCaseRunner> testcaserunners = suiterunner.getResults();
	for(TestCaseRunner testcaserunner in testcaserunners){
		Status status = testcaserunner.getStatus();
		 String testcasename = testcaserunner.getTestCase().getName();
		if(status == Status.FINISHED){
			testcasespassed++;
		}
		if(status == Status.FAILED){
			testcasesfailed++;
			testCaseNameFailed.add(testcasename);
		}
		log.info status;
	}
}
testcasesexecuted = testcasespassed + testcasesfailed;
def percentPassed = (testcasespassed / testcasesexecuted) * 100;
percentPassed = Math.round(percentPassed * 100) / 100
String testCaseFailedInStringFormat = "";
for(String testCaseFailed in testCaseNameFailed){
	if(testCaseFailedInStringFormat == ""){
		testCaseFailedInStringFormat = testCaseFailed;
	}
	else{
	testCaseFailedInStringFormat = testCaseFailedInStringFormat + "," + testCaseFailed}
}

// create a property file.
try{
File propFile =new File(projDir + "/Configurations/" + project.getName() + "/" + project.getName() + ".properties");
propFile.delete();
boolean isCreated = propFile.createNewFile();
log.info isCreated;
Properties props = new Properties();
props.load(propFile.newDataInputStream());
props.setProperty("testgroup",executiontag);
props.setProperty("StartTime",projectstartTime.toString());
props.setProperty("timetaken",pr_timeTaken.toString());
props.setProperty("testexecuted",testcasesexecuted.toString());
props.setProperty("testcasespassed",testcasespassed.toString());
props.setProperty("testcasesfailed",testcasesfailed.toString());
props.setProperty("persentpassed",percentPassed.toString());
props.setProperty("testCaseFailedInStringFormat",testCaseFailedInStringFormat);
props.store(propFile.newWriter(), null)
}
catch(Exception e){
	log.info "Error in storing test execution data"  + e.getMessage();
}
</con:afterRunScript><con:sensitiveInformation/></con:soapui-project>